<?xml version="1.0" encoding="UTF-8"?>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
  <meta http-equiv="cache-control" content="max-age=0"/>
  <meta http-equiv="cache-control" content="no-cache"/>
  <meta http-equiv="expires" content="-1"/>
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 11:00:00 GMT"/>
  <meta http-equiv="pragma" content="no-cache"/>
  <meta http-equiv="cache-control" content="must-revalidate"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=12.0, minimum-scale=.5, user-scalable=yes"/>
  <meta property="og:image" content="/img/bid-logo-fb.png"/>
  <meta property="og:description" content="Check out this visualization done with data from the IDB's open data portal Numbers for Development."/>
  <meta property="og:title" content="Inter-American Development Bank"/>
  <title>
    IDB - Inter-American Development Bank
  </title>
  <!-- Add theam css here -->    <link rel="stylesheet" href="/Scripts/jquery-ui.min.css"/>
  <link href="/CSS/bootstrap.min.css?v=1" rel="stylesheet"/>
  <link href="/CSS/Ext_style.css?v=1" rel="stylesheet"/>
  <!-- Re-Skinning Styles starts here -->    <link href="/CSS/sidetogglemenu.css?v=1" rel="stylesheet"/>
  <link href="/CSS/viewindicator.css?v=1" rel="stylesheet"/>
  <link href="/CSS/viewindicatorbycountry.css?v=1" rel="stylesheet"/>
  <link href="/CSS/jqtree.css?v=1" rel="stylesheet"/>
  <link href="/ExtJs/build/packages/ext-theme-classic/build/resources/ext-theme-classic-all.css" rel="stylesheet"/>
  <link href="/CSS/Ext_style.css?v=1" rel="stylesheet"/>
  <link rel="stylesheet" type="text/css" href="/CSS/HelveticaNeueLTPro/fonts.css?v=1"/>
  <link rel="stylesheet" type="text/css" href="/CSS/AGaramondPro/fonts.css?v=1"/>
  <link rel="stylesheet" type="text/css" href="/CSS/gotham/gotham.css?v=1"/>
  <link rel="stylesheet" type="text/css" href="/CSS/gotham/gotham_narrow.css?v=1"/>
  <link rel="stylesheet" type="text/css" href="/CSS/gotham/Gotham_extra-narrow.css?v=1"/>
  <link rel="stylesheet" type="text/css" href="/CSS/gotham/gothamHTF.css?v=1"/>
  <link rel="apple-touch-icon" sizes="57x57" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/apple-icon-57x57.png"/>
  <link rel="apple-touch-icon" sizes="60x60" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/apple-icon-60x60.png"/>
  <link rel="apple-touch-icon" sizes="72x72" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/apple-icon-72x72.png"/>
  <link rel="apple-touch-icon" sizes="76x76" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/apple-icon-76x76.png"/>
  <link rel="apple-touch-icon" sizes="114x114" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/apple-icon-114x114.png"/>
  <link rel="apple-touch-icon" sizes="120x120" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/apple-icon-120x120.png"/>
  <link rel="apple-touch-icon" sizes="144x144" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/apple-icon-144x144.png"/>
  <link rel="apple-touch-icon" sizes="152x152" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/apple-icon-152x152.png"/>
  <link rel="apple-touch-icon" sizes="180x180" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/apple-icon-180x180.png"/>
  <link rel="icon" type="image/png" sizes="192x192" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/android-icon-192x192.png"/>
  <link rel="icon" type="image/png" sizes="32x32" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/favicon-32x32.png"/>
  <link rel="icon" type="image/png" sizes="96x96" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/favicon-96x96.png"/>
  <link rel="icon" type="image/png" sizes="16x16" href="http://www.iadb.org/Global/Templates/sites/IDBV3/img/favico/favicon-16x16.png"/>
  <link href="/Fonts/idb-icons/idb-icons.css" rel="stylesheet"/>
  <link href="/Fonts/idb-countries/idb-countries.css" rel="stylesheet"/>
  <!-- Add Local css here -->    <link rel="stylesheet" type="text/css" href="/CSS/jcarousel.responsive.css?v=1"/>
  <link href="/CSS/cs-select.css?v=1" rel="stylesheet"/>
  <link rel="stylesheet" type="text/css" href="/CSS/sm-height.css?v=1"/>
  <link href="/CSS/menu.css?v=1" rel="stylesheet"/>
  <link href="/CSS/general.css?v=1.3" rel="stylesheet"/>
  <link href="/CSS/customer.css?v=1" rel="stylesheet"/>
  <link href="/CSS/home.css?v=1" rel="stylesheet"/>
  <link href="/CSS/customStyles.css?v=1" rel="stylesheet"/>
  <link rel="stylesheet" type="text/css" href="/CSS/search.css?v=1"/>
  <!-- Re-Skinning Styles ends here -->    <script async="" src="//www.googletagmanager.com/gtm.js?id=GTM-5LLP7L">
</script>
  <script id="facebook-jssdk" src="//connect.facebook.net/en_US/sdk.js">
  </script>
  <script src="/Scripts/jquery.min.js">
  </script>
  <script src="/Scripts/jquery-ui.js">
  </script>
  <script src="/Scripts/bootstrap.min.js">
  </script>
  <script src="/Scripts/bootstrap-filestyle.min.js">
  </script>
  <script src="/Scripts/bootstrap-select.min.js">
  </script>
  <script src="/Scripts/js/jquery.jcarousel.min.js">
  </script>
  <script src="/Scripts/js/menu-home-mobil.js">
  </script>
  <script type="text/javascript" src="/Scripts/js/jquery.jcarousel.min.js">
  </script>
  <script type="text/javascript" src="/Scripts/js/jcarousel.responsive.js">
  </script>
  <script src="/Scripts/js/classie.js">
  </script>
  <script src="/Scripts/js/selectFx.js">
  </script>
  <script type="text/javascript" src="/Scripts/js/select_checboxes.js">
  </script>
  <script type="text/javascript" src="/Scripts/js/custom.js">
  </script>
  <script type="text/javascript" src="/Scripts/Placeholder.js">
  </script>
  <script src="/Scripts/iscroll.js">
  </script>
  <script src="/ExtJs/build/ext-all.js">
  </script>
  <script src="/ExtJs/build/packages/ext-charts/build/ext-charts.js">
  </script>
  <script type="text/javascript">
    //<![CDATA[

    var RoutePath = 'https://data.iadb.org' + '/';
    var Errorpath = 'https://data.iadb.org' + '/Base/Error';
    var AppExceptionTitle = 'Server Exception';
    var AppExceptionMessage = 'Exception occurred in server, Please try again later or contact administrator. Please use the reference id:';


    //]]>
  </script>
  <script src="https://apis.google.com/js/client.js?onload=init">
  </script>
  <script>
    //<![CDATA[

    window.fbAsyncInit = function () {
      FB.init({
        appId: '393134537868487',
        autoLogAppEvents: true,
        xfbml: true,
        version: 'v2.10'
      });
      FB.AppEvents.logPageView();
    };

    (function (d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) { return; }
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/sdk.js";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));

    //]]>
  </script>
  <script src="/Scripts/customJavascript.js">
  </script>
  <script src="/Scripts/JS/custom.js">
  </script>
  <script src="/Scripts/IDB-Social.js?v=1.1">
  </script>
  <script src="/Scripts/IADB_Comp.js">
  </script>
  <script src="/Scripts/IADB_Quarter.js?v=1.3">
  </script>
  <script src="/Scripts/tree.jquery.js">
  </script>
  <script src="https://apis.google.com/js/client.js?onload=init">
  </script>
  <script type="text/javascript">
    //<![CDATA[

    //var homePageUrl = '/'
    var homePageUrl = '..';

    function hover(element) {
      element.setAttribute('src', element.src.replace("bid-logo", "bid-logo-line"));
    }

    function unhover(element) {
      element.setAttribute('src', element.src.replace("bid-logo-line", "bid-logo"));
    }


    //function hover(element) {

    //    element.setAttribute('src', homePageUrl + '/img/logos/en/bid-logo-line.jpg');
    //}
    //function unhover(element) {
    //    element.setAttribute('src',homePageUrl+ '/img/logos/en/bid-logo.jpg');
    //}

    //function hoverES(element) {
    //    element.setAttribute('src', homePageUrl+'/img/logos/es/bid-logo-line.jpg');
    //}
    //function unhoverES(element) {
    //    element.setAttribute('src', homePageUrl+'/img/logos/es/bid-logo.jpg');
    //}
    var topicURL = '/HomePage/GetAllTopic';
    var SubTopicURL = '/HomePage/GetAllSubTopic';
    var SubSetTopicURL = '/HomePage/GetAllSubsetTopic';
    var countryURL = '/HomePage/GetCountryList';
    var indicatorURL = '/HomePage/GetAllIndicators';
    var indicatorURLfornull = '/HomePage/GetIndicatorsForNull';
    var FindIndicator = 'FIND INDICATOR';
    var SelectSubTopic = 'SELECT A TOPIC';
    var selectSubSetTopic = 'Indicators Group';
    var SelectIndicator = 'SELECT AN  INDICATOR';
    var SelectCountry = 'SELECT COUNTRY';
    var selectIndicator = 'SELECT AN  INDICATOR';
    var selectCountry = 'SELECT COUNTRY';
    //var Topic_Path
    var viewTopicEventFlag = true;
    loadDataStories = true;
    loadDataTopics = true;
    $("#globalSearchInput").keypress(function () {

      if ($(this).attr("value") == 'Search') {
        $(this).empty();
      }
    });
    /*spanish page styles*/
    $(document).ready(function () {


      if ($("#common_lang a").text() == "English") {
        $('#common_div').addClass('spanish');
      }

      $("#globalSearchInput").focus(function () {
        if ($(this).attr("value") == 'Search') $(this).attr("value", "");
      });

      $("#globalSearchInput").blur(function () {
        if ($(this).attr("value") == '') $(this).attr("value", 'Search');
      });

      var dt = new Date();
      var year = dt.getFullYear();
      $("#curryear").text(year);
      $("#curryearmob").text(year);

    });


    //]]>
  </script>
  <script type="text/javascript">
    //<![CDATA[

    // Instructions: please embed this snippet directly into every page in your website template.
    // For optimal performance, this must be embedded directly into the template, not referenced
    // as an external file.

    // Answers Cloud Services Embed Script v1.02
    // DO NOT MODIFY BELOW THIS LINE *****************************************
    ; (function (g) {
      var d = document, i, am = d.createElement('script'), h = d.head || d.getElementsByTagName("head")[0],
        aex = {
          "src": "//gateway.answerscloud.com/iadb-org/production/gateway.min.js",
          "type": "text/javascript",
          "async": "true",
          "data-vendor": "acs",
          "data-role": "gateway"
        };
      for (var attr in aex) { am.setAttribute(attr, aex[attr]); }
      h.appendChild(am);
      g['acsReady'] = function () { var aT = '__acsReady__', args = Array.prototype.slice.call(arguments, 0), k = setInterval(function () { if (typeof g[aT] === 'function') { clearInterval(k); for (i = 0; i < args.length; i++) { g[aT].call(g, function (fn) { return function () { setTimeout(fn, 1) }; }(args[i])); } } }, 50); };
    })(window);
    // DO NOT MODIFY ABOVE THIS LINE *****************************************

    //]]>
  </script>
  <script src="//gateway.answerscloud.com/iadb-org/production/gateway.min.js" type="text/javascript" async="true" data-vendor="acs" data-role="gateway">
  </script>
  <!--<script type="text/javascript" src="http://www.iadb.org/Global/templates/sites/WMS/foresee/foresee-trigger.js"></script>-->    <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->    <!-- <script src="/Scripts/jquery.validate.min.js"></script>
<script src="/Scripts/jquery.validate.unobtrusive.min.js"></script> -->    <script src="/Scripts/global.js">
</script>
</head>
<body>
<script>
  //<![CDATA[

  dataLayer = [{
    'eventCategory': 'initialized',
    'eventAction': 'initialized',
    'eventLabel': 'initialized',
    'socialNetwork': 'initialized',
    'socialAction': 'initialized',
    'socialTarget': 'initialized'
  }];


  $(document).ready(function () {
    $("#globalSearchInput").focus(function () { if ($(this).attr("value") == ' Search ') $(this).attr("value", ""); }); $("#globalSearchInput").blur(function () { if ($(this).attr("value") == '') $(this).attr("value", " Search "); });
  });

  //]]>
</script>
<!-- Google Tag Manager -->    <noscript>

  &lt;iframe src="//www.googletagmanager.com/ns.html?id=GTM-5LLP7L"
  height="0" width="0" style="display: none; visibility: hidden"&gt;&lt;/iframe&gt;

</noscript>
<script>
  //<![CDATA[
  (function (w, d, s, l, i) {
    w[l] = w[l] || []; w[l].push({
      'gtm.start':
        new Date().getTime(), event: 'gtm.js'
    }); var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
      '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
  })(window, document, 'script', 'dataLayer', 'GTM-5LLP7L');
  //]]>
</script>
<!-- End Google Tag Manager -->    <div id="common_div" class="container background-conteiner-content">
  <a id="arr-top" name="arr-top">
  </a>
  <div class="clearfix">
  </div>
  <script src="/Scripts/JS/moment-with-locales.min.js?v=1.0">
  </script>
  <script src="/Scripts/IDB-Social.js">
  </script>
  <script src="/Scripts/facets/faceteSearch.js?v=1.0">
  </script>
  <link href="/CSS/Dataset.css?v=1" rel="stylesheet"/>
  <style>

    .urlchange {
      color: #5FAFEE !important;
    }
    #shorturl {
      color: #5FAFEE !important;
    }
    .quickimg {
      border-color:#278ED0 !important ;
      margin-top: 6px!important;
      margin-bottom: 5px!important;
      width:112%;
    }
    .field-validation-error {
      color: #e80c4d;
      font-weight: bold;
    }
    .dataset-autocomplete {
      min-width: 558px!important;
    }

    @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
      #opendta {

        width: 24%!important;
      }
    }

  </style>
  <script type="text/javascript">
    //<![CDATA[


    $.ajaxSetup({ cache: false });
    var startpage = 1;
    var endpage = 1;
    var firstpage;
    var datactlgname = '';
    var url = 'https://data.iadb.org/DataCatalog/Dataset';
    var GAurl = 'DataCatalog/' + url;
    var DownloadText = 'Download';
    var ReadMoreText = 'Show More';
    var TypeText = 'TYPE';
    var LastUpdatedText = 'Last Updated';
    var NoResultsFound = 'No results found';
    var SeeMoreText = 'SEE MORE';
    var SeeLessText = 'SEE LESS';
    var OpenText = 'OPEN';
    var SelectedDataCatalogID = '0';
    var DatasetRedirect = '/DataCatalog/Dataset';
    var DataCatalogName = '';
    var TYPE1 = 'TYPE';
    var LastUpdated = 'Last Updated';
    var FIRST = 'FIRST';
    var PREVIOUS = 'PREVIOUS';
    var NEXT = 'NEXT';
    var LAST = 'LAST';
    var langid = 'en ';
    var datacatalogid = '';
    var formatnames = [];
    var filename = '';
    /* idrp-78 starts*/
    var DataSet = 'Dataset';
    var externaldataset = 'External Database';
    var documenttype = 'File &amp; Document';
    /* idrp-78 ends*/
    var DataCatalogcode = '';
    var strforlink = "";
    var opendta = "";
    var opendata = "";
    var filetype = '';
    var dataurl = '/DataCatalog/GetDatacatalogMetaDataForLandingPage';
    var searchurl = '/DataCatalog/GetSearchCrieteria';
    var totalurl = '/DataCatalog/GetDataSet';
    var TwitterURL;
    var finalurl = '';
    var val;
    var citationurl = '';
    var databrowserhtml = '';
    var datacatalogcode = '';
    var ctrlDown = false;
    var ctrlKey = 17, f5Key = 116, rKey = 82;
    var heightfordiv = '425';
    var widthfordiv = '500';
    var target = '';
    var contactmail = '';
    var autosearchval = '';
    var selectedvalue = new Array();
    var firstval = '';
    var firstvalfortag = '';
    var title1 = '';
    var title2 = '';
    var desc1 = '';
    var desc2 = '';
    var viewport = '';
    var matches = new Array();
    var id;
    var urlarray = new Array();
    var paginationLimit = 10;
    var decription = '';
    var spncountlength;
    var spncountendlimit;
    var DATASET;
    var datalength;
    var startLimit;
    var endLimit;
    var displaytype;
    var valueonclick = "true";
    var datasetdescription = '';

    $(document).ready(function () {
      autosearchval = $("#autosearch").val();
      if (window.location.href.indexOf("DataCatalogID") != -1) {

        datacatalogcode = getQueryVariable("DataCatalogID");
        getDataForPartial(datacatalogid, datacatalogcode);
        backbuttondetect();
        finalurl = window.location.href;
        $("#divdatasets").html($("#partialviewload").html());
        $("#loadpartial").css('background-color', 'white');
        $("#spnresults").hide();
        $("#txtalignleft").show();
        $("#spnresultsnofound").hide();
        fetchTotalDatasets(totalurl);
        LoadSearchCrieteria(searchurl);
        $('.container-fluid').css('display', 'none');
        viewport = {
          width: $(window).width(),
          height: $(window).height()
        };


      } else {
        LoadPage();
        backbuttondetect();
        $("#txtalignleft").hide();
        $('.buttonhide').hide();

      }

      $("#sharebtn").attr("disabled", "disabled").css("cursor", "default");
      $('#datasetlink').addClass('active');

      AutoSearch('/DataCatalog/GetAutoSerach');
      $("#langmenu li").click(function () {
        //if (window.location.href.indexOf("DataCatalogID") != -1) {
        //    $(".filterclose").click(function () {
        //        SearchTerms();
        //    });
        //} else {
        //    $(".filterclose").click(function () {
        //        LoadPage();
        //        $("#txtalignleft").hide();
        //        $("#leftsidebar").show();
        //        $("#loadpartial").css('background', 'none');
        //        $('.publication_pagination').show();
        //        $('.buttonhide').hide();
        //    });

        //}
      })
      if (SelectedDataCatalogID != '0') {
        ShowdatasetInfo1(SelectedDataCatalogID);
      }
      if ('1 ' == 1) {
        $('#selectedlang').html('ENGLISH' + '<b class="caret"></b>');
      } else if ('1' == 2) {
        $('#selectedlang').html('ESPANOL' + '<b class="caret"></b>');
      }
      if ('1 ' == 1)
      { moment.locale('en'); }
      else if ('1' == 2)
      { moment.locale('es'); }
      viewport = {
        width: $(window).width(),
        height: $(window).height()
      };

      if (viewport.width <= '414' && viewport.height <= '768' || viewport.width <= '768' && viewport.height <= '414') {
        paginationLimit = 5;
      } else {
        paginationLimit = 10;
      }

      $('.container_results .refine .row h3').click(function () {
        $(this).find('.icon').toggleClass('icon-icon-filter-collapse').toggleClass('icon-icon-filter-open');
        $(this).parent('.row').find('.row-content').slideToggle('fast', function () {
          $(this).css({ 'overflow': 'auto' });
        });
      });



      $('.container_results .refine .row .row-content ul li p').click(function () {
        $(this).find('.icon').toggleClass('icon-icon-filter-collapse').toggleClass('icon-icon-filter-open');
        $(this).next('ul').slideToggle('fast', function () {
          $(this).css({ 'overflow': 'auto' });
        });
      });

      $('#findit-placeholder').val('dataset');
      viewport = {
        width: $(window).width(),
        height: $(window).height()
      };



    });

    function backbuttondetect() {
      if (window.history && window.history.pushState) {

        $(window).on('popstate', function () {
          var hashLocation = location.hash;
          var hashSplit = hashLocation.split("#!/");
          var hashName = hashSplit[1];

          if (hashName !== '') {
            var hash = window.location.hash;
            if (hash === '') {
              backtodatasets();
            } else {


            }
          }
        });

        //window.history.pushState('forward', null, './#forward');
      }

    }

    function googleapishortenurl() {
      $.ajax({
        //url: 'https://www.googleapis.com/urlshortener/v1/url?shortUrl=http://goo.gl/fbsS&key=AIzaSyANFw1rVq_vnIzT4vVOwIw3fF1qHXV7Mjw',
        url: 'https://www.googleapis.com/urlshortener/v1/url?shortUrl=http://goo.gl/fbsS&key=AIzaSyCoVvupI4PHjJ6p8mDxzKlpqE5ZsXaZA5A',    //IDRP-54
        type: 'POST',
        contentType: 'application/json; charset=utf-8',
        data: '{ longUrl: "' + finalurl + '"}',
        dataType: 'json', async: false,
        success: function (response) {
          tinyurl = response.id;


        }
      });
    }
    function checkFirstVisit() {
      if (document.cookie.indexOf('mycookie') == -1) {
        // cookie doesn't exist, create it now
        document.cookie = 'mycookie=1';
        sessionStorage.removeItem('startpage');
        sessionStorage.removeItem('endpage');
      }
      else {

        startpage = sessionStorage.getItem('startpage');
        endpage = sessionStorage.getItem('endpage');
      }
    }
    function showmore(DataCatalogID) {

      if ($("#seemoretxt_" + DataCatalogID).hasClass('more')) {
        $("#decription_" + DataCatalogID).css('width', '100%');
        $("#decription_" + DataCatalogID).css('white-space', 'normal');
        $("#seemoretxt_" + DataCatalogID).removeClass('more');
        $("#seemoretxt_" + DataCatalogID).addClass('less');
        $("#seemoretxt_" + DataCatalogID).html('<img src="../Images/seemore.png" style="width:auto;height:auto;margin-left:0px;cursor: pointer;min-height:auto;text-transform:uppercase; white-space:nowrap;">&nbsp;&nbsp;' + SeeLessText + '');


      } else {
        $("#decription_" + DataCatalogID).css('width', '300px');
        $("#decription_" + DataCatalogID).css('white-space', 'nowrap');
        $("#seemoretxt_" + DataCatalogID).removeClass('less');
        $("#seemoretxt_" + DataCatalogID).addClass('more');
        $("#seemoretxt_" + DataCatalogID).html('<img src="../Images/seemore.png" style="width:auto;height:auto;margin-left:0px;cursor: pointer;min-height:auto;text-transform:uppercase;white-space:nowrap;">&nbsp;&nbsp;' + SeeMoreText + '');

      }
    }

    function getQueryVariable(variable) {

      var query = window.location.href.substring(1);
      var vars = query.split("#");
      for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split("=");
        if (pair[0] == variable) { return pair[1]; }
      }
      return (false);
    }
    function LoadPage() {
      //   debugger;
      $("#spnresultsnofound").hide();
      $("#spnresults").show();
      faceteArray = [];
      LoadData('/DataCatalog/GetDataSet');
      LoadSearchCrieteria('/DataCatalog/GetSearchCrieteria');
      SearchTerms();
    }

    function ShowdatasetInfo1(datacatalogid) {

      Showdatasetdetails('/DataCatalog/GetDatacatalogMetaData', datacatalogid, '/DataCatalog/DataCatalogUsage');

    }


    function openNav() {
      $("#leftsidebar").show();

      $(".buttonhide").css("display", "none");
      $(".closebtn").css("display", "inline");

      $("#opendta").css("width", "24%");


    }

    function closeNav() {
      $("#leftsidebar").hide();
      $(".buttonhide").css("display", "inline");
      $(".closebtn").css("display", "none");

    }

    function getDataForPartial(datacatalogid, datacatalogcode) {

      $.ajax({

        type: "POST",
        url: dataurl,
        data: { DataCatalogID: datacatalogid, DataCatalogCode: datacatalogcode },

        dataType: "json",
        cache: false,
        success: function (data) {
          $("#Tagsval").html("");
          $("#leftsidebar").css('display', 'none');
          $(".closebtn").css("display", "none");
          $('.buttonhide').show();
          $('.container-fluid').css('display', 'none');
          var downloadtypes = '';
          datactlgname = data.DataCatalogName;
          datasetdescription = data.DataCatalogDesc;
          var citation = data.Citation;
          var lastupdated = data.Lastmodified;
          var lastupdatedbrik = data.Lastmodifiedbrik;//brik
          var createddate = data.PublisherDate;
          var methodologytext = data.Methodology;
          contactmail = data.ContactOwner;
          var datanote = data.DataNotes;
          var downloads = data.DownloadCount;
          var visits = data.VisitsCount;
          var unitresponsible = data.UnitResponsible;
          var datacatalogcode = data.DataCatalogCode;
          var docAttachment = data.BackgroundDoc;
          var type = data.DataCatalogType;
          var countrycodecount = data.CountryCount; // kavitha
          var $something;
          var downloadformat = data.UploadFormatType;
          displaytype = data.BulkDownload;//brik
          var data1 = "";
          var tags = data.Tags;
          var codeforbrik = data.Data_catalog_code_brik;
          var noofvariables = data.NumberOfVariables;
          /*brik integration code changes starts*/
          if (tags.length != '0') {

            data1 = tags.substring(1, tags.length - 1).replace(/"/g, '');


            var tagsarray = data1.split(/[,;]/);

            var itemfortag, itemfortags = [];

            for (var i = 0; i < tagsarray.length; i++) {
              itemfortag = {};
              itemfortag.name = tagsarray[i];

              itemfortags.push(itemfortag);
            }

            var tagimg;
            var strfortag = "";
            $("#Tagsname").html('');
            for (var i = 0; i < itemfortags.length; i++) {
              firstvalfortag = itemfortags[0].name;
              firstvalfortag = firstvalfortag.trim();
              strfortag = '<li id="list_' + itemfortags[i].name + '" class="tagValues" onclick="javascript:Tagsval(event);">' + itemfortags[i].name + '</li>';
              tagimg = '<img src="../Images/tags.png" style="width:12px;height:12px;margin-right:5px" />'
              $("#Tagsname").append(tagimg + strfortag + '');


            }
          }
          else if (tags.length == '0') {
            $("#tagsdiv").hide();
          }
          /*brik integration code changes ends*/

          if (viewport.width <= '414' && viewport.height <= '768' || viewport.width <= '768' && viewport.height <= '414') {
            var Totalchar = 5;
            var strfortaginit = "";
            var strfortagmore = "";
            var showcharacters = "Show (+)", hideCharacters = "Hide (-)";
            $('.showtagstext').html(itemfortags);
            if (itemfortags == undefined) {
              $("#tagsdiv").hide();
            }
            // $('.showtagstext').each(function () {
            else if (itemfortags != undefined) {
              $("#Tagsval").html("");
              for (var i = 0; i < itemfortags.length; i++) {
                firstvalfortag = itemfortags[0].name;
                firstvalfortag = firstvalfortag.trim();
                if (i < Totalchar) {
                  tagimg = '<img src="../Images/tags.png" style="width:12px;height:12px;margin-right:5px" />'
                  strfortaginit += tagimg + '<li id="list_' + itemfortags[i].name + '" class="tagValues" onclick="javascript:Tagsval(event);">' + itemfortags[i].name + '</li>';
                  //  tagimg = '<img src="../Images/tags.png" style="width:12px;height:12px;margin-right:5px" />'
                  //$("#Tagsname").append(tagimg + strfortaginit + '');
                }
                else {
                  tagimg = '<img src="../Images/tags.png" style="width:12px;height:12px;margin-right:5px" />'
                  strfortagmore += tagimg + '<li id="list_' + itemfortags[i].name + '" class="tagValues" onclick="javascript:Tagsval(event);">' + itemfortags[i].name + '</li>';

                }

              }
              if (itemfortags.length > Totalchar)

                var txt = strfortaginit + '<span class="dots">...</span><span class="morectnt"><span>' + strfortagmore + '</span>&nbsp;&nbsp;<a href="" class="showmoretxttags" style="font-weight: normal;font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a></span>';
              else

                txt = strfortaginit;
              $("#Tagsname").html('');
              $("#Tagsname").append(txt);
              //    });

              $(".showmoretxttags").click(function () {
                if ($(this).hasClass("sample")) {
                  $(this).removeClass("sample");
                  $(this).html('<a href="" class="showmoretxt1"  style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a>');


                } else {
                  $(this).addClass("sample");
                  $(this).html('<a href="" class="showmoretxt1"  style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeLessText + '</a>');
                }
                $(this).parent().prev().toggle();
                $(this).prev().toggle();
                return false;
              });
            }

          }

          if ('1 ' == 1) {

            databrowserhtml = 'https://data.iadb.org/Datasets/JsonCreation/En/' + datacatalogcode + '.html';
          }
          if ('1 ' == 2) {
            databrowserhtml = 'https://data.iadb.org/Datasets/JsonCreation/Es/' + datacatalogcode + '.html';
          }



          var datapath = datacatalogcode + '.html';
          $.ajax({
            type: "POST",
            url: '../DataCatalog/TableviewFile/',
            data: '{file:"' + datapath + '" }',
            contentType: "application/json; charset=utf-8",
            datatype: "jsondata",
            async: "true",
            success: function (response) {

              if (response == 'False') {
                $("#dataview").css('display', 'none');
                $("#databrowsersec").css('display', 'none');
                $("#tablemodal").css('display', 'none');
              } else {
                //  document.getElementById("dataview").innerHTML = '<object type="text/html" data="' + databrowserhtml + '" style="overflow: auto; width: 100%; height: 300px"></object>';
                document.getElementById("dataview").innerHTML = '<iframe src="' + databrowserhtml + '" style="overflow: scroll; width: 100%; height: 300px;"></iframe>';
                $("#tablepreviewicon").css('display', 'none');
                //$("#dataview").load('<iframe src="' + databrowserhtml + '" style="overflow: auto; width: 100%; height: 300px"></iframe>');
              }

            }
          });
          $("#tablepreviewicon").click(function () {
            window.open(databrowserhtml, '_blank');

          });
          if (firstvalfortag.length != 0) {
            $.ajax({
              type: "GET",
              url: '/DataCatalog/GetFilterdData',
              data: {
                filtervalue: firstvalfortag
              },
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              cache: false,
              success: function (data) {
                $.each(data, function (key, value) {

                  if (data.DataSet.length > 2) {
                    //   for (i = 0; i < data.DataSet.length; i++) {

                    title1 = data.DataSet[0].DataCatalogName;
                    if (data.DataSet[0].DataCatalogName == datactlgname) {
                      title1 = data.DataSet[1].DataCatalogName;
                      desc1 = data.DataSet[1].DataCatalogDesc;
                      if (desc1.match(/<b>(.*?)<\/b>/g) && desc1.match(/Click/g)) {
                        desc1 = desc1.replace(/<b>(.*?)<\/b>/g, '');
                        desc1 = desc1.replace(/<(?!br\s*\/?)[^>]+>/g, '');
                        desc1 = desc1.replace(/\<br\>/g, " ");
                      }
                      else if (desc1.match(/Click/g)) {
                        desc1 = desc1.replace(/Click.*$/g, '');

                      }
                    }
                    else if (data.DataSet[0].DataCatalogName != datactlgname) {
                      title1 = data.DataSet[0].DataCatalogName;
                      desc1 = data.DataSet[0].DataCatalogDesc;
                      if (desc1.match(/<b>(.*?)<\/b>/g) && desc1.match(/Click/g)) {
                        desc1 = desc1.replace(/<b>(.*?)<\/b>/g, '');
                        desc1 = desc1.replace(/<(?!br\s*\/?)[^>]+>/g, '');
                        desc1 = desc1.replace(/\<br\>/g, " ");
                      }
                      else if (desc1.match(/Click/g)) {
                        desc1 = desc1.replace(/Click.*$/g, '');

                      }
                    }
                    title2 = data.DataSet[1].DataCatalogName;
                    if (data.DataSet[1].DataCatalogName == datactlgname) {
                      title2 = data.DataSet[2].DataCatalogName;
                      desc2 = data.DataSet[2].DataCatalogDesc;
                      if (desc2.match(/<b>(.*?)<\/b>/g) && desc2.match(/Click/g)) {
                        desc2 = desc2.replace(/<b>(.*?)<\/b>/g, '');
                        desc2 = desc2.replace(/<(?!br\s*\/?)[^>]+>/g, '');
                        desc2 = desc2.replace(/\<br\>/g, " ");
                      }
                      else if (desc2.match(/Click/g)) {
                        desc2 = desc2.replace(/Click.*$/g, '');

                      }

                    }
                    else if (data.DataSet[1].DataCatalogName != datactlgname) {
                      if (data.DataSet[1].DataCatalogName == title1) {
                        title2 = data.DataSet[2].DataCatalogName;
                        desc2 = data.DataSet[2].DataCatalogDesc;
                        if (desc2.match(/<b>(.*?)<\/b>/g) && desc2.match(/Click/g)) {
                          desc2 = desc2.replace(/<b>(.*?)<\/b>/g, '');
                          desc2 = desc2.replace(/<(?!br\s*\/?)[^>]+>/g, '');
                          desc2 = desc2.replace(/\<br\>/g, " ");
                        }
                        else if (desc2.match(/Click/g)) {
                          desc2 = desc2.replace(/Click.*$/g, '');

                        }
                      }
                      else {
                        title2 = data.DataSet[1].DataCatalogName;
                        desc2 = data.DataSet[1].DataCatalogDesc;
                        if (desc2.match(/<b>(.*?)<\/b>/g) && desc2.match(/Click/g)) {
                          desc2 = desc2.replace(/<b>(.*?)<\/b>/g, '');
                          desc2 = desc2.replace(/<(?!br\s*\/?)[^>]+>/g, '');
                          desc2 = desc2.replace(/\<br\>/g, " ");
                        }
                        else if (desc2.match(/Click/g)) {
                          desc2 = desc2.replace(/Click.*$/g, '');

                        }
                      }
                    }

                    //title1 = data.DataSet[1].DataCatalogName;
                    //title2 = data.DataSet[2].DataCatalogName;
                    //desc1 = data.DataSet[1].DataCatalogDesc;
                    //if (desc1.match(/<b>(.*?)<\/b>/g) && desc1.match(/Click/g)) {
                    //    desc1 = desc1.replace(/<b>(.*?)<\/b>/g, '');
                    //    desc1 = desc1.replace(/<(?!br\s*\/?)[^>]+>/g, '');
                    //    desc1 = desc1.replace(/\<br\>/g, " ");
                    //}
                    //else if (desc1.match(/Click/g)) {
                    //    desc1 = desc1.replace(/Click.*$/g, '');

                    //}
                    //     desc2 = data.DataSet[2].DataCatalogDesc;
                    //if (desc2.match(/<b>(.*?)<\/b>/g) && desc2.match(/Click/g)) {
                    //    desc2 = desc2.replace(/<b>(.*?)<\/b>/g, '');
                    //    desc2 = desc2.replace(/<(?!br\s*\/?)[^>]+>/g, '');
                    //    desc2 = desc2.replace(/\<br\>/g, " ");
                    //}
                    //else if (desc2.match(/Click/g)) {
                    //    desc2 = desc2.replace(/Click.*$/g, '');

                    //}
                    $("#relatedDataTitle1").html(title1);

                    $("#relatedDataTitle2").html(title2);

                    viewport = {
                      width: $(window).width(),
                      height: $(window).height()
                    };
                    if (viewport.width <= '414' && viewport.height <= '768' || viewport.width <= '768' && viewport.height <= '414') {
                      var Totalchar = 150;
                    } else if (datasetdescription.length >= '600') {
                      var Totalchar = 300;
                    } else {
                      var Totalchar = 200;
                    }
                    var showcharacters = "Show (+)", hideCharacters = "Hide (-)";
                    $('.show1').html(desc1);
                    $('.show1').each(function () {
                      var content = desc1;
                      if (content.length > Totalchar) {
                        var con = content.substr(0, Totalchar);
                        var hcon = content.substr(Totalchar, content.length - Totalchar);
                        var txt = con + '<span class="dots">...</span><span class="morectnt"><span>' + hcon + '</span>&nbsp;&nbsp;<a href="" class="showmoretxt1" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a></span>';
                        $(this).html(txt);
                      }
                    });
                    $(".showmoretxt1").click(function () {
                      if ($(this).hasClass("sample")) {
                        $(this).removeClass("sample");
                        $(this).html('<a href="" class="showmoretxt1"  style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a>');
                        $('.datapreviewforRelated').css('height', 'auto');
                      } else {
                        $(this).addClass("sample");
                        $(this).html('<a href="" class="showmoretxt1"  style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeLessText + '</a>');

                        $('.datapreviewforRelated').css('height', 'auto');

                      }
                      $(this).parent().prev().toggle();
                      $(this).prev().toggle();
                      return false;
                    });
                    if (viewport.width <= '414' && viewport.height <= '768' || viewport.width <= '768' && viewport.height <= '414') {
                      var Totalchar2 = 150;
                    } else if (datasetdescription.length >= '600') {
                      var Totalchar2 = 300;
                    } else {
                      var Totalchar2 = 200;
                    }
                    var showcharacters2 = "Show (+)", hideCharacters2 = "Hide (-)";
                    $('.show2').html(desc2);
                    $('.show2').each(function () {
                      var content = desc2;
                      if (content.length > Totalchar2) {
                        var con = content.substr(0, Totalchar2);
                        var hcon = content.substr(Totalchar2, content.length - Totalchar2);
                        var txt = con + '<span class="dots">...</span><span class="morectnt"><span>' + hcon + '</span>&nbsp;&nbsp;<a href="" class="showmoretxt2" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a></span>';
                        $(this).html(txt);
                      }
                    });
                    $(".showmoretxt2").click(function () {
                      if ($(this).hasClass("sample")) {
                        $(this).removeClass("sample");
                        $(this).html('<a href="" class="showmoretxt2" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a>');
                        $('.datapreviewforRelated2').css('height', 'auto');
                      } else {
                        $(this).addClass("sample");
                        $(this).html('<a href="" class="showmoretxt2" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeLessText + '</a>');

                        $('.datapreviewforRelated2').css('height', 'auto');

                      }
                      $(this).parent().prev().toggle();
                      $(this).prev().toggle();
                      return false;
                    });
                    // }
                    //    }
                  }
                  else if (data.DataSet.length == 2) {
                    if ((data.DataSet[0].DataCatalogName == datactlgname) && (data.DataSet[1].DataCatalogName == datactlgname)) {
                      $("#relateddata").hide();
                    }
                    //   title1 = data.DataSet[0].DataCatalogName;
                    if (data.DataSet[0].DataCatalogName == datactlgname) {
                      data.DataSet[0].DataCatalogName = data.DataSet[0].DataCatalogName.replace(data.DataSet[0].DataCatalogName, '');
                      data.DataSet[0].DataCatalogDesc = data.DataSet[0].DataCatalogDesc.replace(data.DataSet[0].DataCatalogDesc, '');



                    }


                    else if (data.DataSet[0].DataCatalogName != datactlgname) {
                      title1 = data.DataSet[0].DataCatalogName;
                      desc1 = data.DataSet[0].DataCatalogDesc;

                      if (desc1.match(/<b>(.*?)<\/b>/g) && desc1.match(/Click/g)) {
                        desc1 = desc1.replace(/<b>(.*?)<\/b>/g, '');
                        desc1 = desc1.replace(/<(?!br\s*\/?)[^>]+>/g, '');
                        desc1 = desc1.replace(/\<br\>/g, " ");
                      }
                      else if (desc1.match(/Click/g)) {
                        desc1 = desc1.replace(/Click.*$/g, '');

                      }
                    }
                    //   title2 = data.DataSet[1].DataCatalogName;
                    if (data.DataSet[1].DataCatalogName == datactlgname) {
                      data.DataSet[1].DataCatalogName = data.DataSet[1].DataCatalogName.replace(data.DataSet[1].DataCatalogName, '');
                      data.DataSet[1].DataCatalogDesc = data.DataSet[1].DataCatalogDesc.replace(data.DataSet[1].DataCatalogDesc, '');

                    }
                    else if (data.DataSet[1].DataCatalogName != datactlgname) {

                      title2 = data.DataSet[1].DataCatalogName;
                      desc2 = data.DataSet[1].DataCatalogDesc;

                      if (desc2.match(/<b>(.*?)<\/b>/g) && desc2.match(/Click/g)) {
                        desc2 = desc2.replace(/<b>(.*?)<\/b>/g, '');
                        desc2 = desc2.replace(/<(?!br\s*\/?)[^>]+>/g, '');
                        desc2 = desc2.replace(/\<br\>/g, " ");
                      }
                      else if (desc2.match(/Click/g)) {
                        desc2 = desc2.replace(/Click.*$/g, '');

                      }

                    }

                    //desc1 = data.DataSet[0].DataCatalogDesc;
                    //if (desc1.match(/<b>(.*?)<\/b>/g) && desc1.match(/Click/g)) {
                    //    desc1 = desc1.replace(/<b>(.*?)<\/b>/g, '');
                    //    desc1 = desc1.replace(/<(?!br\s*\/?)[^>]+>/g, '');
                    //    desc1 = desc1.replace(/\<br\>/g, " ");
                    //}
                    //else if (desc1.match(/Click/g)) {
                    //    desc1 = desc1.replace(/Click.*$/g, '');

                    //}
                    //  desc2 = data.DataSet[1].DataCatalogDesc;
                    //if (desc2.match(/<b>(.*?)<\/b>/g) && desc2.match(/Click/g)) {
                    //    desc2 = desc2.replace(/<b>(.*?)<\/b>/g, '');
                    //    desc2 = desc2.replace(/<(?!br\s*\/?)[^>]+>/g, '');
                    //    desc2 = desc2.replace(/\<br\>/g, " ");
                    //}
                    //else if (desc2.match(/Click/g)) {
                    //    desc2 = desc2.replace(/Click.*$/g, '');

                    //}
                    $("#relatedDataTitle1").html(title1);
                    $("#relatedDataTitle2").html(title2);

                    viewport = {
                      width: $(window).width(),
                      height: $(window).height()
                    };
                    if (viewport.width <= '414' && viewport.height <= '768' || viewport.width <= '768' && viewport.height <= '414') {
                      var Totalchar = 150;
                    } else if (datasetdescription.length >= '600') {
                      var Totalchar = 300;
                    } else {
                      var Totalchar = 200;
                    }
                    var showcharacters = "Show (+)", hideCharacters = "Hide (-)";
                    $('.show1').html(desc1);
                    $('.show1').each(function () {
                      var content = desc1;
                      if (content.length > Totalchar) {
                        var con = content.substr(0, Totalchar);
                        var hcon = content.substr(Totalchar, content.length - Totalchar);
                        var txt = con + '<span class="dots">...</span><span class="morectnt"><span>' + hcon + '</span>&nbsp;&nbsp;<a href="" class="showmoretxt1" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a></span>';
                        $(this).html(txt);
                      }
                    });
                    $(".showmoretxt1").click(function () {
                      if ($(this).hasClass("sample")) {
                        $(this).removeClass("sample");
                        $(this).html('<a href="" class="showmoretxt1" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a>');
                        $('.datapreviewforRelated').css('height', 'auto');
                      } else {
                        $(this).addClass("sample");
                        $(this).html('<a href="" class="showmoretxt1" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeLessText + '</a>');

                        $('.datapreviewforRelated').css('height', 'auto');

                      }
                      $(this).parent().prev().toggle();
                      $(this).prev().toggle();
                      return false;
                    });
                    if (viewport.width <= '414' && viewport.height <= '768' || viewport.width <= '768' && viewport.height <= '414') {
                      var Totalchar2 = 150;
                    } else if (datasetdescription.length >= '600') {
                      var Totalchar2 = 300;
                    } else {
                      var Totalchar2 = 200;
                    }
                    var showcharacters2 = "Show (+)", hideCharacters2 = "Hide (-)";
                    $('.show2').html(desc2);
                    $('.show2').each(function () {
                      var content = desc2;
                      if (content.length > Totalchar2) {
                        var con = content.substr(0, Totalchar2);
                        var hcon = content.substr(Totalchar2, content.length - Totalchar2);
                        var txt = con + '<span class="dots">...</span><span class="morectnt"><span>' + hcon + '</span>&nbsp;&nbsp;<a href="" class="showmoretxt2" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a></span>';
                        $(this).html(txt);
                      }
                    });
                    $(".showmoretxt2").click(function () {
                      if ($(this).hasClass("sample")) {
                        $(this).removeClass("sample");
                        $(this).html('<a href="" class="showmoretxt2" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a>');
                        $('.datapreviewforRelated2').css('height', 'auto');
                      } else {
                        $(this).addClass("sample");
                        $(this).html('<a href="" class="showmoretxt2" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeLessText + '</a>');

                        $('.datapreviewforRelated2').css('height', 'auto');

                      }
                      $(this).parent().prev().toggle();
                      $(this).prev().toggle();
                      return false;
                    });
                  } else {
                    $("#relatedatasec").css('display', 'none');
                  }


                });

              },
              error: function (result) {

              }
            });

          } else {
            $("#relatedatasec").css('display', 'none');
          }

          databrowserhtml = 'https://data.iadb.org/Datasets/JsonCreation/En/' + datacatalogcode + '.html';

          var showTotalChar = 200, showChar = '<img src="../Images/seemore.png" style="width:100%;min-height:20px;background-color:#ebeef0;" />', hideChar = "Hide (-)";

          /*brik integration code changes starts*/
          if (methodologytext.length != '0') {
            $('.show6').html(methodologytext);
            $('.show6').show();
            $(".methodologyhide").show();

            /*brik integration code changes ends*/

            $('.show6').each(function () {
              var content = methodologytext;
              if (content.length > showTotalChar) {
                var con = content.substr(0, showTotalChar);
                var hcon = content.substr(showTotalChar, content.length - showTotalChar);
                var txt = con + '<span class="dots">...</span><span class="morectnt"><span>' + hcon + '</span>&nbsp;&nbsp;<a href="" class="showmoretxtmeth" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a></span>';
                $(this).html(txt);
              }
            });
            $(".showmoretxtmeth").click(function () {
              if ($(this).hasClass("sample")) {
                $(this).removeClass("sample");
                $(this).html('<a href="" class="showmoretxtmeth" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a>');

              } else {
                $(this).addClass("sample");
                $(this).html('<a href="" class="showmoretxtmeth" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeLessText + '</a>');
              }
              $(this).parent().prev().toggle();
              $(this).prev().toggle();
              return false;
            });
          }
          else if (methodologytext.length == '0') {
            $('.show6').hide();
            $(".methodologyhide").hide();
          }

          if (displaytype == "table") {

            if (downloadformat.length != '0') {
              downloadtypes = downloadformat.split(/[,;]/);
              var count = 0;
              $("#downloadformats").html('');
              for (var i = 0; i < downloadtypes.length; i++) {

                val = downloadtypes[i];
                val = val.trim();
                formatnames[i] = val;
                filename = datacatalogcode + '.' + formatnames[i];
                var fileurl = "https://mydata.iadb.org/resource/" + filename;
                var urlforzip = "https://mydata.iadb.org/download/" + datacatalogcode + "/application%2Fzip";
                var urlforjson = "https://mydata.iadb.org/api/views/" + datacatalogcode + "/rows." + formatnames[i] + "?accessType=DOWNLOAD";
                var urlformsexcel = "https://mydata.iadb.org/download/" + datacatalogcode + "/application%2Fvnd.ms-excel";
                var urlforspreadsheet = "https://mydata.iadb.org/download/" + datacatalogcode + "/application%2Fvnd.openxmlformats-officedocument.spreadsheetml.sheet";
                var urlforxrar = "https://mydata.iadb.org/download/" + datacatalogcode + "/application%2Fx-rar";
                if (formatnames[i] != 'HTML' && formatnames[i] != 'XLS' && formatnames[i] != 'CSV for Excel' && formatnames[i] != 'PDF' && formatnames[i] != 'XLSX') {
                  if (formatnames[i] == 'JSON' || formatnames[i] == 'XML' || formatnames[i] == 'RSS') {
                    $something = '<a href="javascript:download(\'' + urlforjson + '\',\'' + filename + '\');"><img src="../Images/' + formatnames[i] + '.png" id="btn_' + formatnames[i] + '" class="downloadimg"  style="width:4%;cursor:pointer" /></a>';
                    $("#downloadformats").append($something);
                  } else if (formatnames[i] == 'zip') {
                    $something = '<a href="' + urlforzip + '"><img src="../Images/' + formatnames[i] + '.png" id="btn_' + formatnames[i] + '"class="downloadimg"  style="width:4%;cursor:pointer"/></a>';
                    $("#downloadformats").append($something);
                  }
                  else if (formatnames[i] == 'vnd.ms-excel') {
                    $something = '<a href="' + urlformsexcel + '"><img src="../Images/' + formatnames[i] + '.png" id="btn_' + formatnames[i] + '"class="downloadimg"  style="width:4%;cursor:pointer"/></a>';
                    $("#downloadformats").append($something);
                  } else if (formatnames[i] == 'vnd.openxmlformats-officedocument.spreadsheetml.sh') {
                    $something = '<a href="' + urlforspreadsheet + '"><img src="../Images/' + formatnames[i] + '.png" id="btn_' + formatnames[i] + '"class="downloadimg"  style="width:4%;cursor:pointer"/></a>';
                    $("#downloadformats").append($something);
                  }
                  else if (formatnames[i] == 'x-rar') {
                    $something = '<a href="' + urlforxrar + '"><img src="../Images/' + formatnames[i] + '.png" id="btn_' + formatnames[i] + '"class="downloadimg"  style="width:4%;cursor:pointer"/></a>';
                    $("#downloadformats").append($something);
                  }
                  else {
                    $something = '<a href="' + fileurl + '"><img src="../Images/' + formatnames[i] + '.png" id="btn_' + formatnames[i] + '"class="downloadimg"  style="width:4%;cursor:pointer"/></a>';
                    $("#downloadformats").append($something);
                  }
                }

              }
            }
            else {
              //$("#downloadsec").css('display', 'none');
              var downloadtype = 'CSV, JSON, HTML, XML, RDF, RSS, TSV';
              downloadtypes = downloadtype.split(/[,;]/);
              var count = 0;
              for (var i = 0; i < downloadtypes.length; i++) {

                val = downloadtypes[i];
                val = val.trim();
                formatnames[i] = val;
                var filename = datacatalogcode + '.' + formatnames[i];
                var fileurl = "https://mydata.iadb.org/resource/" + filename;
                var urlforjson = "https://mydata.iadb.org/api/views/" + datacatalogcode + "/rows." + formatnames[i] + "?accessType=DOWNLOAD";
                if (formatnames[i] != 'HTML') {
                  if (viewport.width <= '414' && viewport.height <= '768' || viewport.width <= '768' && viewport.height <= '414') {
                    $something = '<a href="' + fileurl + '"><img src="../Images/' + formatnames[i] + '.png" id="btn_' + formatnames[i] + '"class="downloadimg"  style="width:4%;cursor:pointer"/></a>';
                    $("#downloadformats").append($something);
                  } else {
                    if (formatnames[i] == 'JSON' || formatnames[i] == 'XML' || formatnames[i] == 'RSS') {
                      $something = '<a href="javascript:download(\'' + urlforjson + '\',\'' + filename + '\');" ><img src="../Images/' + formatnames[i] + '.png" id="btn_' + formatnames[i] + '" class="downloadimg"  style="width:4%;cursor:pointer" /></a>';
                      $("#downloadformats").append($something);
                    } else {
                      $something = '<a href="' + fileurl + '"><img src="../Images/' + formatnames[i] + '.png" id="btn_' + formatnames[i] + '"class="downloadimg"  style="width:4%;cursor:pointer"/></a>';
                      $("#downloadformats").append($something);
                    }
                  }
                }
              }
            }

          }
          else if (displaytype == 'Databases & Datasets') {
            $("#downloadsec").css('display', 'none');
          }
          if (citation.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9:%_\+.~#?&//=]*)/g)) {
            citation = citation.replace(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9:%_\+.~#?&//=]*)/g, '');
          }

          var removeLastChar = function (value, char) {
            var lastChar = value.slice(-1);
            if (lastChar == char) {
              value = value.slice(0, -1);
            }
            return value;
          }
          /*brik integration code starts */
          var subjects = data.Subjects;
          if (subjects.length != '0') {
            var subjectsarray = subjects.split(/[,;]/);
            var itemforsub, itemforsubs = [];

            for (var i = 0; i < subjectsarray.length; i++) {
              itemforsub = {};
              itemforsub.name = subjectsarray[i];

              itemforsubs.push(itemforsub);
            }

            var Totalchar = 5;
            var strfordescinit = "";
            var strfordescmore = "";
            var showcharacters = "Show (+)", hideCharacters = "Hide (-)";
            $('.showdesctext').html(itemforsubs);
            if (itemforsubs == undefined) {
              $("#subjectsdiv").hide();
            }
            else if (itemforsubs != undefined) {
              for (var i = 0; i < itemforsubs.length; i++) {
                firstval = itemforsubs[0].name;
                firstval = firstval.trim();
                if (i < Totalchar) {
                  strfordescinit += '<li id="list_' + itemforsubs[i].name + '" class="subjectvalues" data-input="' + itemforsubs[i].name + '" onclick="javascript:subjectselval(event);">' + itemforsubs[i].name + '</li>';
                }
                else {

                  strfordescmore += '<li id="list_' + itemforsubs[i].name + '" class="subjectvalues" data-input="' + itemforsubs[i].name + '" onclick="javascript:subjectselval(event);">' + itemforsubs[i].name + '</li>';

                }

              }
              if (itemforsubs.length > Totalchar)

                var txt = strfordescinit + '<span class="dots">...</span><span class="morectnt"><span>' + strfordescmore + '</span>&nbsp;&nbsp;<a href="" class="showmoretxtdesc" style="font-weight: normal;font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a></span>';
              else
                txt = strfordescinit;
              // $("#subjectname").append(subjectval);
              $("#subjectname").append(txt);


              $(".showmoretxtdesc").click(function () {
                if ($(this).hasClass("sample")) {
                  $(this).removeClass("sample");
                  $(this).html('<a href="" class="showmoretxtdesc1"  style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a>');


                } else {
                  $(this).addClass("sample");
                  $(this).html('<a href="" class="showmoretxtdesc1"  style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeLessText + '</a>');
                }
                $(this).parent().prev().toggle();
                $(this).prev().toggle();
                return false;
              });

            }
          }
          if (subjects.length == '0') {
            $("#subjectsdiv").hide();
          }
          //for (var i = 0; i < itemforsubs.length; i++) {

          //    subjectval = '<li id="list_' + itemforsubs[i].name + '" class="subjectvalues" data-input="' + itemforsubs[i].name + '" onclick="javascript:subjectselval(event);">' + itemforsubs[i].name + '</li>';

          //    $("#subjectname").append(subjectval);

          //}
          /*brik integration code ends */

          $("#list_").hide();
          var countrycount = data.Countries;
          var countryarray = countrycount.split(/[,;:]/);
          var item, items = [];

          for (var i = 0; i < countryarray.length; i++) {
            item = {};
            item.name = countryarray[i];

            items.push(item);
          }
          var main = $("<ul>");
          var str = "";
          $("#countrycode").html('');
          for (var i = 0; i < items.length; i++) {

            var countrycode = items[i].name;
            countrycode = countrycode.trim();
            str = '<li id="list_' + countrycode + '" class="countryval" onclick="javascript:coverage(event);" onmouseover="javascript:show(id)">' + countrycode + '</li>';

            $("#countrycode").append(str);



          }
          var datalink = data.DatasetLink;
          var linkarray = datalink.split(/[;]/);
          var val, vals = [];

          for (var i = 0; i < linkarray.length; i++) {
            val = {};
            val.name = linkarray[i];

            vals.push(val);

          }
          var main = $("<ul>");

          for (var i = 0; i < vals.length; i++) {

            if (vals.length == '3') {

              $('#graphtitle').html(vals[0].name);
              $('#descriptionforgraph').html(vals[1].name);
              strforlink = vals[2].name;
              opendta = vals[2].name;

            } else if (vals.length == '2') {
              strforlink = vals[1].name;
              $("#graphicsec").css('display', 'none');
            } else if (vals.length == '1' && datacatalogcode == 'xi2u-w6pd') {
              strforlink = vals[0].name;
              //$("#graphicsec").css('display', 'none');
            } else if (vals.length == '1') {
              strforlink = vals[0].name;
              $("#graphicsec").css('display', 'none');
            }


          }
          var languages = data.LanguagesSupported;

          if (languages.length != '0') {
            var langarray = languages.split(/[,;]/);
            var lang, langs = [];
            for (var i = 0; i < langarray.length; i++) {
              if (langarray[i] != " PT") {
                lang = {};
                lang.name = langarray[i];

                langs.push(lang);
              }
            }
            var main = $("<ul>");
            var langstr = "";
            $("#languages").html('');
            for (var i = 0; i < langs.length; i++) {
              langstr = '<li id="list_' + langs[i].name + '" class="langVal" onclick="javascript:languagechange(event);"><a class="urlchange">' + langs[i].name + '</a></li>';
              $("#languages").append(langstr);
            }
          }
          else if (languages.length == '0') {
            $(".languageshide").hide();
          }
          if (datasetdescription.match(/<b>(.*?)<\/b>/g) && datasetdescription.match(/Click/g)) {
            datasetdescription = datasetdescription.replace(/<b>(.*?)<\/b>/g, '');
            datasetdescription = datasetdescription.replace(/<(?!br\s*\/?)[^>]+>/g, '');
            datasetdescription = datasetdescription.replace(/\<br\>/g, " ");
          }
          else if (datasetdescription.match(/Click/g)) {
            datasetdescription = datasetdescription.replace(/Click.*$/g, '');

          }
          else if (datasetdescription.match(/Haga clic/g) || (/Haz clic/g)) {

            datasetdescription = datasetdescription.replace(/Haga clic.*$/g, '');

            datasetdescription = datasetdescription.replace(/Haz clic.*$/g, '');
          }
          /*brik integration code changes starts*/
          if (displaytype == "table") {
            opendata = "https://mydata.iadb.org/idb/dataset/" + datacatalogcode + "/data";
            $("#opendta").click(function () {
              window.open(opendata);
            });

          }
          if (displaytype == 'Databases & Datasets') {
            var text = datacatalogcode;
            opendata = text.replace('oai:', 'https://');
            opendata = opendata.replace(/:(?=[^:]*$)/, "/handle/");
            document.getElementById("opendta").innerHTML = 'ACCESS DATASET';
            $("#opendta").css('width', '13%');
            $("#opendta").click(function () {
              window.open(opendata);
            });
          }
          /*brik integration code changes ends*/

          // Get the modal
          var modal = document.getElementById('myModalforemail');

          // Get the button that opens the modal
          var btn = document.getElementById("embedbtn");

          // Get the <span> element that closes the modal
          var span = document.getElementsByClassName("close")[0];

          // When the user clicks the button, open the modal
          //btn.onclick = function () {
          //    modal.style.display = "block";
          //}

          // When the user clicks on <span> (x), close the modal
          $('.close').click(function () {
            modal.style.display = "none";
          });
          /* Get iframe src attribute value i.e. YouTube video url
                     and store it in a variable */
          var url = $("#loadtable").html('<iframe type="text/html" seamless="seamless" src="https://imfmobileservice.cognizant.com/IADBOpenDataNewUXCloud/Datasets/JsonCreation/cd6z-sjjc.html" style="width: 100%; height: 400px">');

          /* Assign empty url value to the iframe src attribute when
                    modal hide, which stop the video playing */
          $("#myModalfortable").on('hide.bs.modal', function () {
            $("#loadtable").html('');
          });

          /* Assign the initially stored url back to the iframe src
                    attribute when modal is displayed again */
          $("#myModalfortable").on('show.bs.modal', function () {
            $("#loadtable").html('<iframe type="text/html" src="https://imfmobileservice.cognizant.com/IADBOpenDataNewUXCloud/Datasets/JsonCreation/cd6z-sjjc.html" style="width: 100%; height: 400px">');
          });
          var urlforgraph = $("#loadgraph").attr('src');

          /* Assign empty url value to the iframe src attribute when
                    modal hide, which stop the video playing */
          $("#myModalforgraph").on('hide.bs.modal', function () {
            $("#loadgraph").attr('src', '');
          });

          /* Assign the initially stored url back to the iframe src
                    attribute when modal is displayed again */
          $("#myModalforgraph").on('show.bs.modal', function () {
            $("#loadgraph").attr('src', urlforgraph);
          });

          id = contactmail.split(/[,;]/);
          matches = '';
          if (id != 'N/A') {
            for (var i = 0; i < id.length; i++) {
              var separateEmailsBy = "; ";

              if (id[i].match('[-0-9a-zA-Z.+_]+@[-0-9a-zA-Z.+_]+\.[a-zA-Z]{2,4}')) {
                matches += separateEmailsBy;
                matches += id[i].match('[-0-9a-zA-Z.+_]+@[-0-9a-zA-Z.+_]+\.[a-zA-Z]{2,4}');
              }

            }
          }
          //$("#licenceattribution").click(function () {
          //    alert("hi");
          //    $("#licencetolink").attr("href", "https://creativecommons.org/licenses/by-nc-nd/3.0/igo/legalcode")
          //  // location.href = "https://creativecommons.org/licenses/by-nc-nd/3.0/igo/legalcode"
          //});
          if (matches.length != '0') {
            $("#contact").css('cursor', 'pointer');

          } else {
            $("#contact").css('cursor', 'default');

          }

          if (displaytype == 'Databases & Datasets') {
            $(".contactmail").hide();
            $(".contactinformation").hide();
            $(".licencetext").css('padding-bottom', '10px');
          }
          if (displaytype == 'table') {
            $(".contactmail").show();
            $(".contactinformation").show();
          }
          $("#contact").click(function () {
            if (matches.length != '0') {
              $("#mailtolink").attr("href", 'mailto:' + matches);
            } else {
              $("#mailtolink").attr("href", '#');
            }

          });
          $('.default').click(function () {
            $(this).addClass('selected');
            $('.small').removeClass('selected');
            $('.medium').removeClass('selected');
            $('.large').removeClass('selected');
            $('#alltext').html('');
            $('#alltext').text('<div><iframe width="400px" height="425px" src="' + strforlink + '"frameborder="0"scrolling="no"></iframe> + <a href="' + strforlink + '" target="_blank">for more info</a></div>');
          });

          $('.small').click(function () {
            $(this).addClass('selected');
            $('.default').removeClass('selected');
            $('.medium').removeClass('selected');
            $('.large').removeClass('selected');
            $('#alltext').html('');
            $('#alltext').text('<div><iframe width="500px" height="425px" src="' + strforlink + '"frameborder="0"scrolling="no"></iframe> + <a href="' + strforlink + '" target="_blank">for more info</a></div>');
          });
          $('.medium').click(function () {
            $(this).addClass('selected');
            $('.default').removeClass('selected');
            $('.small').removeClass('selected');
            $('.large').removeClass('selected');
            $('#alltext').html('');
            $('#alltext').text('<div><iframe width="760px" height="646px" src="' + strforlink + '"frameborder="0"scrolling="no"></iframe> + <a href="' + strforlink + '" target="_blank">for more info</a></div>');
          });
          $('.large').click(function () {
            $(this).addClass('selected');
            $('.default').removeClass('selected');
            $('.small').removeClass('selected');
            $('.medium').removeClass('selected');
            $('#alltext').html('');
            $('#alltext').text('<div><iframe width="950px" height="808px" src="' + strforlink + '"frameborder="0"scrolling="no"></iframe> + <a href="' + strforlink + '" target="_blank">for more info</a></div>');
          });
          // When the user clicks anywhere outside of the modal, close it
          window.onclick = function (event) {
            if (event.target == modal) {
              modal.style.display = "none";
            }
          }


          $("#datasettitle").html(datactlgname);
          if (viewport.width <= '414' && viewport.height <= '768' || viewport.width <= '768' && viewport.height <= '414') {
            var Totalcharfordesc = 240;
            $("#datasetdesc").addClass('show');
            var showcharactersdesc = "Show (+)", hideCharactersdesc = "Hide (-)";
            $('.show').html(datasetdescription);
            $('.show').each(function () {
              var content = datasetdescription;
              if (content.length > Totalcharfordesc) {
                var con = content.substr(0, Totalcharfordesc);
                var hcon = content.substr(Totalcharfordesc, content.length - Totalcharfordesc);
                var txt = con + '<span class="dots">...</span><span class="morectnt"><span>' + hcon + '</span>&nbsp;&nbsp;<a href="" class="showmoretxt" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a></span>';
                $(this).html(txt);
              }
            });
            $(".showmoretxt").click(function () {
              if ($(this).hasClass("sample")) {
                $(this).removeClass("sample");
                $(this).html('<a href="" class="showmoretxt" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a>');

              } else {
                $(this).addClass("sample");
                $(this).html('<a href="" class="showmoretxt" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeLessText + '</a>');

              }
              $(this).parent().prev().toggle();
              $(this).prev().toggle();
              return false;
            });

          } else {
            $("#datasetdesc").removeClass('show');
            if (datasetdescription.length != '0') {
              $("#datasetdesc").html(datasetdescription);
              $("#datasetdesc").show();
              $(".descriptionhide").show();
            }
            else if (datasetdescription.length == '0') {
              $("#datasetdesc").hide();
              $(".descriptionhide").hide();
            }

          }






          urlarray = docAttachment.split(/[;]/);


          if (urlarray.length > 1) {
            $("#publicationurl").html('<a href="' + urlarray[1] + '" target="_blank">' + urlarray[1] + '</a>');
            $("#relatedPubTitle").html(urlarray[0]);
          } else {
            $("#relatedsec").css('display', 'none');
          }
          if (viewport.width <= '414' && viewport.height <= '768' || viewport.width <= '768' && viewport.height <= '414') {
            var Totalchar = 150;
          } else if (datasetdescription.length >= '600') {
            var Totalchar = 300;
          } else {
            var Totalchar = 200;
          }
          var showcharacters = "Show (+)", hideCharacters = "Hide (-)";
          $('.show').html(datasetdescription);
          $('.show').each(function () {
            var content = datasetdescription;
            if (content.length > Totalchar) {
              var con = content.substr(0, Totalchar);
              var hcon = content.substr(Totalchar, content.length - Totalchar);
              var txt = con + '<span class="dots">...</span><span class="morectnt"><span>' + hcon + '</span>&nbsp;&nbsp;<a href="" class="showmoretxtpub" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a></span>';
              $(this).html(txt);
            }
          });
          $(".showmoretxtpub").click(function () {
            if ($(this).hasClass("sample")) {
              $(this).removeClass("sample");
              $(this).html('<a href="" class="showmoretxtpub" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeMoreText + '</a>');
              $('.datapreviewforpublication').css('height', 'auto');
            } else {
              $(this).addClass("sample");
              $(this).html('<a href="" class="showmoretxtpub" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">' + '<img src="../Images/seemore.png" />' + '&nbsp&nbsp' + SeeLessText + '</a>');

              $('.datapreviewforpublication').css('height', 'auto');

            }
            $(this).parent().prev().toggle();
            $(this).prev().toggle();
            return false;
          });

          $("#datasetcit").html(citation + '<a class="word-break" id="citationurl" href="' + window.location.href + '" target="_blank">' + window.location.href + '</a>');
          /*brik integration code changes starts*/
          if (countrycodecount.length != '0') {
            $("#countriescount").html(countrycodecount);//kavitha
            // $("#countrycode").show();
            $("#countrycounthide").show();
          }
          else if (countrycodecount.length == 0) {
            $("#countrycounthide").hide();
            // $("#countrycode").hide();
            // $("#countriescount").hide();
          }

          if (displaytype == "table") {
            if (lastupdated.length != '0') {
              $("#lastupdate").html(lastupdated);
              $("#lastupdate").show();
              $(".lastupdatehide").show();
            }
            else if (lastupdated.length == '0') {
              $("#lastupdate").hide();
              $(".lastupdatehide").hide();
            }
          }
          if (displaytype == "Databases & Datasets") {
            if (lastupdatedbrik.length != '0') {
              $("#lastupdate").html(lastupdatedbrik);
              $("#lastupdate").show();
              $(".lastupdatehide").show();
            }
            else if (lastupdatedbrik.length == '0') {
              $("#lastupdate").hide();
              $(".lastupdatehide").hide();
            }
          }

          if (createddate.length != '0') {
            $("#createdate").html(createddate);
            $("#createdate").show();
            $(".createdatehide").show();
          }
          else if (createddate.length == '0') {
            $("#createdate").hide();
            $(".createdatehide").hide();
          }
          $("#timeperiod").html(data.TimePeriodCovered);
          $("#datanote").html(datanote);
          if (unitresponsible.length != '0') {
            $("#unitres").html(unitresponsible);
            $("#unitres").show();
            $(".unitreshide").show();
          }
          if (unitresponsible.length == '0') {
            $("#unitres").hide();
            $(".unitreshide").hide();
          }
          if (visits.length != '0') {
            $("#viewcount").html(visits);
            $("#viewcount").show();
            $(".viewcounthide").show();
          }
          if (visits == '0' || visits.length == '0') {
            $("#viewcount").hide();
            $(".viewcounthide").hide();
          }
          if (downloads != '0') {
            $("#downloadcount").html(downloads);
            $("#downloadcount").show();
            $(".downloadhide").show();
          }
          else if (downloads == '0' || downloads.length == '0') {
            $("#downloadcount").hide();
            $(".downloadhide").hide();
          }
          if (noofvariables.length != '0') {
            $("#numberofvariables").show();
            $("#numberofvariables").html(noofvariables);
            $('.variableshide').show();
            //$(".Numberofvariableshide").show();

          } else if (noofvariables == "" || noofvariables.length == '0') {
            $('.variableshide').hide();
            $("#numberofvariables").hide();
            //$(".Numberofvariableshide").hide();
          }
          if (type.length != '0') {
            $("#datacatalogtype").html(type);
            $("#datacatalogtype").show();
            $(".datacatalogtypehide").show();
          }
          else if (type.length = '0') {
            $("#datacatalogtype").hide();
            $(".datacatalogtypehide").hide();
          }

          /*brik integration code changes ends */

          finalurl = window.location.href;
          $("#permalink").html(finalurl);
          $("#permalink").attr("href", finalurl);
          //if (viewport.width <= '414' && viewport.height <= '768' || viewport.width <= '768' && viewport.height <= '414') {
          //    $("#graphicviewload").hide();
          //    $("#embdbtn").hide();
          //    $('#modalview').hide();
          //    $('.hr3').css('margin-top', '8.8em');
          //    $("#graphmobileview").css('display', 'inline');
          //    $("#graphmodal").css('display', 'none');
          //} else {
          var graphurl = strforlink;
          $("#graphicviewload").html('<div id="modalview" style="width:100%;height:438px"><iframe id="graphiframe" style="padding-top:10px;padding-left:15px" width="100%" height="432px" src=' + strforlink + ' frameborder="0"scrolling="no"></iframe></div>');
          $("#modalload").html('<iframe id="modalgraph" style="padding-top:10px;width:1000px;height:420px" src="' + strforlink + '" frameborder="0"scrolling="no"></iframe>');
          $("#alltext").text('<div><iframe width="400px" height="425px" src="' + strforlink + '"frameborder="0"scrolling="no"></iframe> + <a href="' + strforlink + '" target="_blank">for more info</a></div>');

          $("#datasettitle").attr("href", citationurl);
          $.ajax({
            //url: 'https://www.googleapis.com/urlshortener/v1/url?shortUrl=http://goo.gl/fbsS&key=AIzaSyANFw1rVq_vnIzT4vVOwIw3fF1qHXV7Mjw',
            url: 'https://www.googleapis.com/urlshortener/v1/url?shortUrl=http://goo.gl/fbsS&key=AIzaSyCoVvupI4PHjJ6p8mDxzKlpqE5ZsXaZA5A',    //IDRP-54
            type: 'POST',
            contentType: 'application/json; charset=utf-8',
            data: '{ longUrl: "' + finalurl + '"}',
            dataType: 'json', async: false,
            success: function (response) {
              tinyurl = response.id;


            }
          });
          /*brik integration code changes starts*/
          if (displaytype == 'Databases & Datasets') {
            var text = codeforbrik;
            opendata = text.replace('oai:', 'https://');
            opendata = opendata.replace(/:(?=[^:]*$)/, "/handle/");

            $("#shorturl").html(opendata);
            $("#shorturl").attr("href", opendata);
          }
          if (displaytype == 'table') {
            $("#shorturl").html(tinyurl);
            $("#shorturl").attr("href", tinyurl);
          }
          /*brik integration code changes ends*/
          $('#spanEmail').click(function () {
            $("#lblmailerrmsg").html('');
            $("#To").val('');
            $("#myModal").modal('show');
          });
          //$("#spanEmail").click(function () {
          //    $("#myModal").modal('show');
          //});

          $('#btnsend').click(function () {


            $("#lblmailerrmsg").html('');
            var reg = /^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/
            if ($("#To").val() == '') {
              $("#lblmailerrmsg").html('Please Enter To Address');
              return false;
            }
            var emails = new Array();
            emails = $("#To").val().replace(/;/g, ",").split(',');
            if (emails.length > 5) {
              $("#lblmailerrmsg").html('Maximum of 5 recipients only');
              return false;
            }
            for (i = 0; i < emails.length; i++) {


              if (reg.test(emails[i].trim())) {
              }
              else {
                $("#lblmailerrmsg").html('Invalid Email Address' + "-" + emails[i]);
                return false;
              }
            }
            $("#lblmailerrmsg").val('');
            var To = $("#To").val();
            var Subject = $("#Subject").val();
            var Body = $("#Body").val();
            $.ajax({
              type: "POST",
              cache: false,
              url: '/DataCatalog/SendMail',
              data: '{To:"' + To + '",Subject:"' + Subject + '",Body:"' + Body + '",url:"' + finalurl + '",datasetName:"' + datactlgname + '"}',
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              success: function (data) {

                //google analytics for email send

                // alert(GACountryName);
                //GA ends here

                $("#myModal").modal("hide");

                showMessageBox("", 'Mail Sent Successfully', function (action) {
                });
              },
              error: function (result) {
                showMessageBox("", "Mail failure", function (action) {
                });
              }
            });
            return true;

          });

          $('a.socialshare.facebook').click(function () {
            shareOverrideOGMeta(window.location.href,
              datactlgname,
              datasetdescription
            );
          });
          var encodedurl = encodeURIComponent(window.location.href);

          var twittertxt = 'Check out the' + ' ' + datactlgname + ',' + ' ' + 'on Dataset Landing Page:';
          // $('a.socialshare.facebook').attr("href", 'https://www.facebook.com/dialog/feed?app_id=1534926123219728&link= ' + encodedurl + "&title=" + datactlgname + "&description=" + datasetdescription);

          $('a.socialshare.twitter').attr("href", 'https://twitter.com/share?url=' + tinyurl + "&text=" + twittertxt);
          $('a.socialshare.linkedin').attr("href", 'https://www.linkedin.com/shareArticle?mini=true&url=' + encodeURIComponent(window.location.href) + "&title=" + datactlgname + "&summary=" + datasetdescription + "&text=" + escape(window.location.href) + "&source=IADB");
          //$('a.socialshare.google').attr("href", 'https://plus.google.com/share?url=' + encodeURIComponent(window.location.href) + "&title=" + document.title + "&text=" + escape(window.location.href));
          $('a.socialshare').click(function (e) {
            e.preventDefault();
            var $link = $(this);
            var href = $link.attr('href');
            var network = $link.attr('data-network');

            var networks = {
              facebook: { width: 600, height: 300 },
              twitter: { width: 600, height: 254 },
              google: { width: 515, height: 490 },
              linkedin: { width: 600, height: 473 }
            };

            var popup = function (network) {
              var options = 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,';
              window.open(href, '', options + 'height=' + networks[network].height + ',width=' + networks[network].width);
            }

            popup(network);
          });



        },
        error: function (result) {

        }
      });
    }

    function backtodatasets() {
      // debugger;

      if (viewport.width <= '414' && viewport.height <= '768' || viewport.width <= '768' && viewport.height <= '414') {
        $("#divdatasets").html('');
        window.location.hash = '';
        $("#txtalignleft").hide();
        $("#leftsidebar").show();
        document.getElementById('setstyle').removeAttribute("style");
        var element = document.getElementById('leftsidebar');

        element.style.display = null;

        $("#loadpartial").css('background-color', 'transparent');
        var sessVal = 'false';
        $.ajax({
          type: "POST",
          url: '../DataCatalog/controlSesssion',
          data: '{session:"' + sessVal + '"}',
          contentType: "application/json; charset=utf-8",
          datatype: "jsondata",
          async: "true",
          success: function (response) {
            window.location.hash = '';
          }
        });
        if (faceteArray.length > 0) {
          Filter();
          PopulateData(startpage, endpage);
          buildpagination(startpage, endpage);
          window.location.hash = '';

        }
        else if (selectedvalue.length == 0 && faceteArray.length == 0) {
          //LoadPage(startpage,endpage);

          PopulateData(startpage, endpage);
          buildpagination(startpage, endpage);
          faceteArray = [];
          window.location.hash = '';
          autosearchval = $("#autosearch").val();
          AutoSearch('/DataCatalog/GetAutoSerach');
          $("#languages").html('');
          $("#countrycode").html('');
          $('.publication_pagination').show();

        }
        else {
          $.each(selectedvalue, function (key, value) {

            DATASET = selectedvalue.DataSet;

            TopicName = selectedvalue.DataCatalogTopic;
            CoverageName = selectedvalue.GeoCoverage;
            if (DATASET) {
              PopulateData(startpage, endpage);
              buildpagination(startpage, endpage);
              //originalDataset = selectedvalue.DataSet;
            }
            $("#spnresultsnofound").hide();
            $("#spnresults").show();
            faceteArray = [];

            //$('.publication_pagination').show();

            $("#txtalignleft").hide();

          });
          //selectedvalue = ''
          $("#languages").html('');
          $("#countrycode").html('');
          window.location.hash = '';
        }

      } else {
        $("#divdatasets").html('');
        firstvalfortag = '';
        $("#txtalignleft").hide();
        $("#leftsidebar").show();
        $("#loadpartial").css('background-color', 'transparent');
        var sessVal = 'false';
        $.ajax({
          type: "POST",
          url: '../DataCatalog/controlSesssion',
          data: '{session:"' + sessVal + '"}',
          contentType: "application/json; charset=utf-8",
          datatype: "jsondata",
          async: "true",
          success: function (response) {
            window.location.hash = '';
          }
        });
        if (faceteArray.length > 0) {
          Filter();
          PopulateData(startpage, endpage);
          buildpagination(startpage, endpage);
          window.location.hash = '';

        }
        else if (selectedvalue.length == 0 && faceteArray.length == 0) {
          //LoadPage(startpage,endpage);

          PopulateData(startpage, endpage);
          buildpagination(startpage, endpage);
          faceteArray = [];
          window.location.hash = '';
          firstvalfortag = '';
          autosearchval = $("#autosearch").val();
          AutoSearch('/DataCatalog/GetAutoSerach');
          $("#languages").html('');
          $("#countrycode").html('');
          $('.publication_pagination').show();

        }
        else {
          $.each(selectedvalue, function (key, value) {

            DATASET = selectedvalue.DataSet;

            TopicName = selectedvalue.DataCatalogTopic;
            CoverageName = selectedvalue.GeoCoverage;
            if (DATASET) {
              PopulateData(startpage, endpage);
              buildpagination(startpage, endpage);
              //originalDataset = selectedvalue.DataSet;
            }
            $("#spnresultsnofound").hide();
            $("#spnresults").show();
            faceteArray = [];

            //$('.publication_pagination').show();

            $("#txtalignleft").hide();

          });
          //selectedvalue = ''
          $("#languages").html('');
          $("#countrycode").html('');
          window.location.hash = '';
          firstvalfortag = '';
        }
      }

    }
    function downloadExcel(file) {

      $.ajax({
        type: "POST",
        url: '../DataCatalog/DownloadExcel/',
        data: '{file:"' + file + '" }',
        contentType: "application/json; charset=utf-8",
        datatype: "jsondata",
        async: "true",
        success: function (response) {
          window.location = '../DataCatalog/DownloadExcel?file=' + file + '';
        },
        error: function (jqXHR, textStatus, errorThrown) {
          alert('An error occurred... Look at the console (F12 or Ctrl+Shift+I, Console tab) for more information!');
        }
      });
    }
    function show(id) {
      var countryName;
      if ('1 ' == 1) {
        if (id == "list_AR") {
          countryName = "Argentina";
        }
        else if ((id == "list_BA") || (id == "list_BB")) {
          countryName = "Barbados";
        }
        else if ((id == "list_BH") || (id == "list_BS")) {
          countryName = "Bahamas";
        }
        else if ((id == "list_BE") || (id == "list_BL") || (id == "list_BZ")) {
          countryName = "Belize";
        }
        else if (id == "list_BO") {
          countryName = "Bolivia";
        }
        else if (id == "list_BR") {
          countryName = "Brazil";
        }
        else if ((id == "list_CH") || (id == "list_CL")) {
          countryName = "Chile";
        }
        else if (id == "list_CO") {
          countryName = "Colombia";
        }
        else if (id == "list_CR") {
          countryName = "Costa Rica";
        }
        else if (id == "list_DR") {
          countryName = "Dominican Republic";
        }
        else if (id == "list_CU") {
          countryName = "Cuba";
        }

        else if (id == "list_EC") {
          countryName = "Ecuador";
        }
        else if ((id == "list_SV") || (id == "list_EL")) {
          countryName = "El-Salvador";
        }
        else if ((id == "list_GT") || (id == "list_GU")) {
          countryName = "Guatemala";
        }
        else if (id == "list_ME") {
          countryName = "Mexico";
        }
        else if (id == "list_NI") {
          countryName = "Nicaragua";
        }
        else if (id == "list_PE") {
          countryName = "Peru";
        }
        else if (id == "list_PN") {
          countryName = "Panama";
        }
        else if ((id == "list_PR") || (id == "list_PY")) {
          countryName = "Paraguay";
        }
        else if (id == "list_TT") {
          countryName = "Trinidad and Tobago";
        }
        else if ((id == "list_UR") || (id == "list_UY")) {
          countryName = "Uruguay";
        }
        else if (id == "list_VE") {
          countryName = "Venezuela";
        }
        else if ((id == "list_SU") || (id == "list_SR")) {
          countryName = "Suriname";
        }
        else if ((id == "list_JA") || (id == "list_JM")) {
          countryName = "Jamaica";
        }
        else if ((id == "list_HN") || (id == "list_HO")) {
          countryName = "Honduras";
        }
        else if ((id == "list_HA") || (id == "list_HT")) {
          countryName = "Haiti";
        }
        else if (id == "list_GY") {
          countryName = "Guyana";
        }

      }
      if ('1 ' == 2) {
        if (id == "list_AR") {
          countryName = "Argentina";
        }
        else if ((id == "list_BA") || (id == "list_BB")) {
          countryName = "Barbados";
        }
        else if ((id == "list_BH") || (id == "list_BS")) {
          countryName = "Bahamas";
        }
        else if ((id == "list_BE") || (id == "list_BL") || (id == "list_BZ")) {
          countryName = "Belice";
        }
        else if (id == "list_BO") {
          countryName = "Bolivia";
        }
        else if (id == "list_BR") {
          countryName = "Brasil";
        }
        else if ((id == "list_CH") || (id == "list_CL")) {
          countryName = "Chile";
        }
        else if (id == "list_CO") {
          countryName = "Colombia";
        }
        else if (id == "list_CR") {
          countryName = "Costa Rica";
        }
        else if (id == "list_DR") {
          countryName = "República Dominicana";
        }
        else if (id == "list_CU") {
          countryName = "Cuba";
        }

        else if (id == "list_EC") {
          countryName = "Ecuador";
        }
        else if ((id == "list_SV") || (id == "list_EL")) {
          countryName = "El Salvador";
        }
        else if ((id == "list_GT") || (id == "list_GU")) {
          countryName = "Guatemala";
        }
        else if (id == "list_ME") {
          countryName = "México";
        }
        else if (id == "list_NI") {
          countryName = "Nicaragua";
        }
        else if (id == "list_PE") {
          countryName = "Perú";
        }
        else if (id == "list_PN") {
          countryName = "Panamá";
        }
        else if ((id == "list_PR") || (id == "list_PY")) {
          countryName = "Paraguay";
        }
        else if (id == "list_TT") {
          countryName = "Trinidad y Tobago";
        }
        else if ((id == "list_UR") || (id == "list_UY")) {
          countryName = "Uruguay";
        }
        else if (id == "list_VE") {
          countryName = "Venezuela";
        }
        else if ((id == "list_SU") || (id == "list_SR")) {
          countryName = "Surinam";
        }
        else if ((id == "list_JA") || (id == "list_JM")) {
          countryName = "Jamaica";
        }
        else if ((id == "list_HN") || (id == "list_HO")) {
          countryName = "Honduras";
        }
        else if ((id == "list_HA") || (id == "list_HT")) {
          countryName = "Haití";
        }
        else if (id == "list_GY") {
          countryName = "Guyana";
        }
      }

      $("#" + id).css('cursor', 'pointer').attr('title', countryName);


    }

    function languagechange(event) {

      var target = event.target || event.srcElement;
      var selectedval = event.target.innerHTML;

      if (window.location.href.indexOf("DataCatalogID") != -1) {
        datacatalogid = getQueryVariable("DataCatalogID");
      }

      if ((selectedval == 'EN') || (selectedval == 'en')) {
        window.location.href = '/Base/SetLanguage?language=en';
      } else {
        window.location.href = '/Base/SetLanguage?language=es';
      }


    }
    function filterclose() {

      $("#txtalignleft").hide();
      $("#leftsidebar").show();
      $("#loadpartial").css('background', 'none');
      $('.publication_pagination').show();
      $('.buttonhide').hide();
      $("#divdatasets").html('');
      LoadPage();
      DATASET = '';
      sessionStorage.removeItem('startpage');
      sessionStorage.removeItem('endpage');
      startpage = '1';
      endpage = '1';
      selectedvalue = '';



    }
    function coverage(event) {

      var target = event.target || event.srcElement;
      var selectedval = event.target.innerHTML;
      $("#searchterms").html('');
      $("#searchterms").
      append('<span class="pull-left Close_icon_position">' + '<button type="button" class="btn btn-primary data_setnumber ">' + selectedval + '</button>' +
        '<a href="#" class="close_icon filterclose" onclick="filterclose()"></a>' + '</span>');
      $('.Close_icon_position').css('padding-top', '10px');
      selectedvalue = '';
      window.location.hash = '';
      sessionStorage.removeItem('startpage');
      sessionStorage.removeItem('endpage');
      startpage = '1';
      endpage = '1';
      $.ajax({
        type: "GET",
        url: '/DataCatalog/GetFilterdData',
        data: {
          filtervalue: selectedval
        },
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        success: function (data) {
          $.each(data, function (key, value) {
            selectedvalue = data;
            DATASET = data.DataSet;

            TopicName = data.DataCatalogTopic;
            CoverageName = data.GeoCoverage;
            if (DATASET) {
              PopulateData(1, 1);
              buildpagination(1, 1);
              //originalDataset = data.DataSet;
            }
            $("#spnresultsnofound").hide();
            $("#spnresults").show();
            $("#loadpartial").css('background', 'none');
            faceteArray = [];
            //window.location.hash = '';
            $("#languages").html('');
            $("#countrycode").html('');
            $('.publication_pagination').show();
            $("#txtalignleft").hide();
            $("#leftsidebar").show();



          });


        },
        error: function (result) {

        }
      });
    }

    function relatedDatafilter(event) {
      var target = event.target || event.srcElement;
      var selectedval = event.target.innerHTML;
      $("#searchterms").html('');
      $("#searchterms").
      append('<span class="pull-left Close_icon_position">' + '<button type="button" class="btn btn-primary data_setnumber ">' + selectedval + '</button>' +
        '<a href="#" class="close_icon filterclose" onclick="filterclose()"></a>' + '</span>');
      $('.Close_icon_position').css('padding-top', '10px');
      selectedvalue = '';
      window.location.hash = '';
      sessionStorage.removeItem('startpage');
      sessionStorage.removeItem('endpage');
      startpage = '1';
      endpage = '1';
      $.ajax({
        type: "GET",
        url: '/DataCatalog/GetFilterdData',
        data: {
          filtervalue: selectedval
        },
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        success: function (data) {
          $.each(data, function (key, value) {
            selectedvalue = data;
            DATASET = data.DataSet;

            TopicName = data.DataCatalogTopic;
            CoverageName = data.GeoCoverage;
            if (DATASET) {
              PopulateData(1, 1);
              buildpagination(1, 1);
              //originalDataset = data.DataSet;
            }
            $("#spnresultsnofound").hide();
            $("#spnresults").show();
            $("#loadpartial").css('background', 'none');
            faceteArray = [];
            $("#languages").html('');
            $("#countrycode").html('');
            $('.publication_pagination').show();
            $("#txtalignleft").hide();
            $("#leftsidebar").show();

            //$(".filterclose").click(function () {
            //    LoadPage();
            //    $("#txtalignleft").hide();
            //    $("#leftsidebar").show();
            //    $("#loadpartial").css('background', 'none');
            //    $('.publication_pagination').show();
            //    $('.buttonhide').hide();
            //});
          });

        },
        error: function (result) {

        }
      });
    }
    function timeperiodfilter(event) {
      var target = event.target || event.srcElement;
      var selectedval = event.target.innerHTML;
      $("#searchterms").html('');
      $("#searchterms").
      append('<span class="pull-left Close_icon_position">' + '<button type="button" class="btn btn-primary data_setnumber ">' + selectedval + '</button>' +
        '<a href="#" class="close_icon filterclose" onclick="filterclose()"></a>' + '</span>');
      $('.Close_icon_position').css('padding-top', '10px');
      selectedvalue = '';
      window.location.hash = '';
      sessionStorage.removeItem('startpage');
      sessionStorage.removeItem('endpage');
      startpage = '1';
      endpage = '1';
      $.ajax({
        type: "GET",
        url: '/DataCatalog/GetFilterdData',
        data: {
          filtervalue: selectedval
        },
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        success: function (data) {
          $.each(data, function (key, value) {
            selectedvalue = data;
            DATASET = data.DataSet;

            TopicName = data.DataCatalogTopic;
            CoverageName = data.GeoCoverage;
            if (DATASET) {
              PopulateData(1, 1);
              buildpagination(1, 1);
              //originalDataset = data.DataSet;
            }
            $("#spnresultsnofound").hide();
            $("#spnresults").show();
            $("#loadpartial").css('background', 'none');
            faceteArray = [];
            $("#languages").html('');
            $("#countrycode").html('');
            $('.publication_pagination').show();
            $("#txtalignleft").hide();
            $("#leftsidebar").show();

            //$(".filterclose").click(function () {
            //    LoadPage();
            //    $("#txtalignleft").hide();
            //    $("#leftsidebar").show();
            //    $("#loadpartial").css('background', 'none');
            //    $('.publication_pagination').show();
            //    $('.buttonhide').hide();
            //});
          });

        },
        error: function (result) {

        }
      });
    }
    function subjectselval(event) {
      var target = event.target || event.srcElement;
      var selectedval = event.target.innerHTML;
      $("#searchterms").html('');
      $("#searchterms").
      append('<span class="pull-left Close_icon_position">' + '<button type="button" class="btn btn-primary data_setnumber ">' + selectedval + '</button>' +
        '<a href="#" class="close_icon filterclose" onclick="filterclose()"></a>' + '</span>');
      $('.Close_icon_position').css('padding-top', '10px');
      selectedvalue = '';
      window.location.hash = '';
      sessionStorage.removeItem('startpage');
      sessionStorage.removeItem('endpage');
      startpage = '1';
      endpage = '1';
      $.ajax({
        type: "GET",
        url: '/DataCatalog/GetFilterdData',
        data: {
          filtervalue: selectedval
        },
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        success: function (data) {
          $("#tagsval").html("");
          $.each(data, function (key, value) {
            selectedvalue = data;
            DATASET = data.DataSet;

            TopicName = data.DataCatalogTopic;
            CoverageName = data.GeoCoverage;
            if (DATASET) {
              PopulateData(1, 1);
              buildpagination(1, 1);
              //originalDataset = data.DataSet;
            }
            $("#spnresultsnofound").hide();
            $("#spnresults").show();
            $("#loadpartial").css('background', 'none');
            faceteArray = [];
            $("#languages").html('');
            $("#countrycode").html('');
            $('.publication_pagination').show();
            $("#txtalignleft").hide();
            $("#leftsidebar").show();

          });

        },
        error: function (result) {

        }
      });
    }
    function Tagsval(event) {

      var target = event.target || event.srcElement;
      var selectedval = event.target.innerHTML;
      selectedval = selectedval.trim();
      window.location.hash = '';
      $("#searchterms").html('');
      $("#searchterms").
      append('<span class="pull-left Close_icon_position">' + '<button type="button" class="btn btn-primary data_setnumber ">' + selectedval + '</button>' +
        '<a href="#"  class="close_icon filterclose" onclick="filterclose()" ></a>' + '</span>');
      $('.Close_icon_position').css('padding-top', '10px');
      selectedvalue = '';
      sessionStorage.removeItem('startpage');
      sessionStorage.removeItem('endpage');
      startpage = '1';
      endpage = '1';
      //window.location.hash = '';
      $.ajax({
        type: "GET",
        url: '/DataCatalog/GetFilterdData',
        data: {
          filtervalue: selectedval
        },
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        cache: false,
        success: function (data) {
          $.each(data, function (key, value) {
            selectedvalue = data;
            DATASET = data.DataSet;

            TopicName = data.DataCatalogTopic;
            CoverageName = data.GeoCoverage;
            if (DATASET) {
              PopulateData(1, 1);
              buildpagination(1, 1);
              //originalDataset = data.DataSet;
            }
            $("#spnresultsnofound").hide();
            $("#spnresults").show();
            $("#loadpartial").css('background', 'none');
            faceteArray = [];
            $("#languages").html('');
            $("#countrycode").html('');
            $('.publication_pagination').show();
            $("#txtalignleft").hide();
            $("#leftsidebar").show();


          });

        },
        error: function (result) {

        }
      });
    }

    function downloadCSV(btnID, Catalogcode) {

      DataCatalogcode = Catalogcode;
      filetype = btnID;
      if (filetype == 'CSV') {
        var file = DataCatalogcode + '.' + filetype;;
        downloadExcel(file);
      }
      if (filetype == 'JSON') {

        var file = DataCatalogcode + '.' + filetype;;
        downloadExcel(file);

      }
      if (filetype == 'RDF') {
        var file = DataCatalogcode + '.' + filetype;
        downloadExcel(file);
      }
      if (filetype == 'RSS') {
        var file = DataCatalogcode + '.' + filetype;;
        downloadExcel(file);
      }
      if (filetype == 'XML') {
        var file = DataCatalogcode + '.' + filetype;;
        downloadExcel(file);
      }
      if (filetype == 'zip') {

        var file = DataCatalogcode + '.' + filetype;;
        downloadExcel(file);

      }
      if (filetype == 'TSV') {

        var file = DataCatalogcode + '.' + filetype;;
        downloadExcel(file);

      }
    }


    function getshareurl(socialNetwork) {

      if (typeof (socialNetwork) === 'undefined') socialNetwork = '';
      finalurl = "";
      var defaultText = "&languageID=en&share=other";
      var baseurl = "";
      var querystring = "";
      var langcode = '1';

      if ((!(typeof langcode === undefined))) {

        querystring = querystring + '&languageID=' + langcode;
      }

      if ((!(typeof SelectedDataCatalogID === undefined)) && SelectedDataCatalogID > 0) {

        querystring = querystring + '&datacatalogid=' + SelectedDataCatalogID;
      }

      finalurl = DatasetRedirect + querystring;

    }

    function download(url, file) {

      $.ajax({
        type: "POST",
        url: '../DataCatalog/buttonDownloadFileClick/',
        data: '{url:"' + url + '",file:"' + file + '"}',

        contentType: "application/json; charset=utf-8",
        datatype: "jsondata",
        async: "true",
        success: function (response) {
          window.location = '../DataCatalog/DownloadExcel?file=' + file + '';

        },
        error: function (jqXHR, textStatus, errorThrown) {

          alert('An error occurred... Look at the console (F12 or Ctrl+Shift+I, Console tab) for more information!');
        }
      });

    }



    function shareOverrideOGMeta(overrideLink, overrideTitle, overrideDescription) {
      FB.ui({
          method: 'share_open_graph',
          action_type: 'og.shares',
          action_properties: JSON.stringify({
            object: {
              'og:url': overrideLink,
              'og:title': overrideTitle,
              'og:description': overrideDescription


            }
          })
        },
        function (response) {
          // Action after response
        });
    }

    function socialliClick() {
      var encodedurl = escape(window.location.href);
      window.open("http://www.linkedin.com/shareArticle?mini=true&url=" + encodedurl + "&text=" + encodedurl, "_top");
    }

    function socialtwitterClick() {

      window.open("https://twitter.com/share?url=" + encodeURIComponent(finalurl) + "&text=" + document.title);
    }

    function socialGplusClick() {
      GooglePlusShare(finalurl, 'divsocial');
    }

    //]]>
  </script>
  <!--middle page starts here -->      <div class="modal fade bs-example-modal-lg" id="DatasetDetails" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg DatasetDetails_modal">
    <div class="dialogbox">
      <div class="header_dialog">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
        </button>
        <div class="modeltitle" style="font-size: 20px" id="DataCatalogHeader">
          <a href="" id="hrefTitle" target="_blank" class="dataset_title">
          </a>
        </div>
      </div>
      <div class="middle_dialog" id="dialogcontent">
        <!-- content goes here -->            </div>
      <div class="footer_dialog">
         
      </div>
    </div>
  </div>
</div>
  <div class="clearfix">
  </div>
  <!-- Data Catalogue page Middle starts here -->      <!-- Body Container -->      <div class="row">
  <!-- Navigation Search -->        <script type="text/javascript" src="/Scripts/js/search.js">
</script>
  <style type="text/css">

    #ddlIndicatorlist {
      /*width: 124%!important;*/
      height: 41em;
      padding-right: -7px;
      margin: 0;
      overflow: auto;
    }

    .sitInCorner {
      position: absolute;
      z-index: 133;
      overflow: initial!important;
    }

    .cs-options li {
      background: #EEE;
      z-index: 200;
      border-top: 1px solid #FFF;
      font-family: GothamNarrow-Medium;
      font-size: 12px;
      font-stretch: normal;
      font-style: normal;
      font-variant: normal;
      font-weight: normal;
    }

    .cs-options li span {
      font-size: 13px;
      color: #666;
      padding: 10px 20px;
      display: block;
      position: relative;
      cursor: pointer;
      padding: 5px;
      line-height: 170%;
    }

    .cs-options li:hover span {
      color: #FFA800;
    }

    .container a {
      text-decoration: none !important;
    }

    .line {
      line-height: 280%!important;
    }

    .highlight {
      background: #FFA800;
      border-color: #FFF;
      color: #FFF;
    }
    /* 4March */
    .filterDivWidth {
      width: 240% ;
    }

  </style>
  <style>

    /* for tablets*/
    @media only screen and (min-device-width: 768px) and (max-device-width : 1024px) and (orientation:portrait) {
      .filterDivWidth {
        width:90% !important; /* 4March */
      }
      .category {
        margin-top: 0px !important;
      }

      .search-specific {
        left: -2% !important;
      }
    }
    @media only screen and (min-device-width: 768px) and (max-device-width : 1024px) and (orientation:landscape) {
      .filterDivWidth {
        width: 220% !important; /* 4March */
      }

    }

    /*For desktop*/
    @media screen and (min-device-width: 1200px) and (max-device-width: 1600px) {
      /*@media screen and (min-device-width: 1200px) {*/
      .filterDivWidth {
        width: 240% !important; /* 4March */
      }
    }

    /*for iPhone 5 and 5S*/
    @media only screen and (min-device-width : 320px) and (max-device-width : 568px) and (orientation : portrait) {
      .category {
        margin-top: 0px!important;
      }
      .search-specific {
        left: -5% !important;
      }
      .filterDivWidth {
        width: 95% !important; /* 4March */
      }
    }
    @media only screen and (min-device-width: 320px) and (max-device-width: 568px) and (orientation: landscape) {
      .filterDivWidth {
        width: 90% !important;
      }

      .search-specific {
        left: -3% !important;
      }

      .category {
        margin-top: 0px!important;
      }
    }
    /*for iPhone 6*/
    @media only screen and (min-device-width: 375px) and (max-device-width: 667px) and (-webkit-min-device-pixel-ratio: 2) and (orientation: portrait) {

      .category {
        margin-top: 0px!important;
      }

      .search-specific {
        left: -4% !important;
      }
      .filterDivWidth {
        width: 95% !important; /* 4March */
      }
    }
    @media only screen and (min-device-width: 375px) and (max-device-width: 667px) and (-webkit-min-device-pixel-ratio: 2)and (orientation: landscape) {
      .filterDivWidth {
        width: 90% !important; /* 4March */
      }

      .search-specific {
        left: -2% !important;
      }

      .category {
        margin-top: 0px!important;
      }
    }
    /*for iPhone 6 plus*/
    @media only screen and (min-device-width: 414px) and (max-device-width: 736px) and (-webkit-min-device-pixel-ratio: 3)and (orientation: portrait) {

      .category {
        margin-top: 0px!important;
      }
      .filterDivWidth {
        width: 95% !important; /* 4March */
      }
    }
    @media only screen and (min-device-width: 414px) and (max-device-width: 736px) and (-webkit-min-device-pixel-ratio: 3)and (orientation: landscape) {

      .filterDivWidth {
        width: 90% !important; /* 4March */
      }

      .search-specific {
        left: -2% !important;
      }

      .category {
        margin-top: 0px !important;
      }
    }

  </style>
  <script>
    //<![CDATA[



    var topicURL = '/HomePage/GetAllTopic';
    var SubTopicURL = '/HomePage/GetAllSubTopic';
    var SubsetTopicURL = '/HomePage/GetAllSubsetTopic';
    var countryURL = '/HomePage/GetCountryList';
    var indicatorURL = '/HomePage/GetAllIndicators';
    var indicatorURLfornull = '/HomePage/GetIndicatorsForNull';
    var countryredirect = '/ViewByCountry/ViewByCountry';
    var indicatorredirect = '/ViewIndicator/ViewIndicator';
    var countryDowloadRedirect = '/ViewByCountry/Countries-Data-Download';
    var multiindicatorRedirect = '/ViewIndicator/Multi-Indicator-Data-Report';
    var selectIndicator = 'SELECT AN  INDICATOR';
    var selectSubTopic = 'SELECT A TOPIC';
    var findIndicator = 'FIND INDICATOR';
    var SelectSubsetTopic = 'Indicators Group';
    var globalgender = 'Gender';
    var globalquintile ='Quintile';
    var globalarea = 'Area';
    var globalage = 'Age';
    var globaleducation = 'Education';
    var filterdropdownURl = '/HomePage/GetValuesForFilterDropdown';
    var countryID_searchbox;
    var langID = '';
    var langCode = '';
    var langCulture = 'en-US';
    var globalTopicID;
    var globalSubTopicID;
    var globalIndicatorID;
    var chkhomepage;
    var chkmanual;
    var globalSubsetTopicID;
    var chkmanual_subtopic;
    var chkSubTopic;
    var chkSubsetTopic;
    var globalID;
    var DownloadFilePage;
    var MultiIndicatorPage

    var selectTopic = FindIndicator;
    //var langID = 1;
    var self = this;

    var endYearUrl;
    var regexText='';
    var filterStore='';
    var regexArray= new Array();
    var regexArrayToShowFilter = new Array();
    var filterArray=new Array();                //DynamicOptions
    var indicatorStore='';      //10feb
    var showFirstSel=false;
    var showSecondSel=false;
    var showThirdSel=false;
    var showFourthSel=false;
    var showFifthSel=false;

    var firstSelDeselect = false; //deselect
    var secondSelDeselect = false; //deselect
    var thirdSelDeselect = false; //deselect
    var fourthSelDeselect = false; //deselect
    var fifthSelDeselect = false; //deselect
    var hasFilters=false;   //RWD
    var hasIndicatorsGroup=true;  //RWD

    $(document).ready(function () {
      //filtervalues

      $('#hiddentextFilter').html(globalgender);
      globalgender=$('#hiddentextFilter').html();

      $('#hiddentextFilter').html(globalquintile);
      globalquintile=$('#hiddentextFilter').html();

      $('#hiddentextFilter').html(globalarea);
      globalarea=$('#hiddentextFilter').html();

      $('#hiddentextFilter').html(globalage);
      globalage=$('#hiddentextFilter').html();

      $('#hiddentextFilter').html(globaleducation);
      globaleducation=$('#hiddentextFilter').html();
      //filtervalues

      $('#srch').click(function () {
        if ($("#srch").hasClass("col-lg-1")) {
          $("#srch").addClass("col-lg-3");
          $("#srch").removeClass("col-lg-1");
          $('#ddlSubTopic').trigger('disable');
          $('#ddlSubsetTopic').trigger('disable');
          $('#ddlIndicator').trigger('disable');
          $(".sitInCorner").hide();


        }
        $('#ddlTopic').remove('cs-option-selected');
      });
      $('.srch-spec').click(function () {
        if ($(".srch-spec").hasClass("col-md-1")) {
          $(".srch-spec").addClass("col-md-2");
          $(".srch-spec").removeClass("col-md-1");
          $('#ddlSubTopic').trigger('disable');
          $('#ddlSubsetTopic').trigger('disable');
          $('#ddlIndicator').trigger('disable');
          $(".sitInCorner").hide();
        }
        $('#ddlTopic').remove('cs-option-selected');
      });
      endYearUrl = '2019';
      strYear = endYearUrl - 4;
      $(".sitInCorner").hide();
      if (langCulture == "en-US") {
        langCode = "en";
        langID = 1;
      }
      else if (langCulture == "es-ES") {
        langCode = "es";
        langID = 2;
      }

      $(function () {
        var prevSelect = '';
        var thisSelect = $('#firstSel').val();

        $('#firstSel').change(function () {

          if (prevSelect == $(this).val() && $(this).val() != null ) {
            //alert('enter');
            $('#xfirstsel div').removeClass('cs-option-selected');
            $('#xfirstsel li').removeClass('cs-selected');
            removeDeselectedOption('firstSel'); //10feb
            reloadFilters('firstSel');
            prevSelect='';
            firstSelDeselect=true; //deselect
          }

          optionsFilter('firstSel',$(this).val()); //10feb
          prevSelect = thisSelect;
          thisSelect = $(this).val();


        });

      });
      $(function () {
        var prevSelect = '';
        var thisSelect = $('#secondSel').val();

        $('#secondSel').change(function () {

          if (prevSelect == $(this).val() && $(this).val() != null ) {
            //alert('enter');
            $('#xsecondSel div').removeClass('cs-option-selected');
            $('#xsecondSel li').removeClass('cs-selected');
            removeDeselectedOption('secondSel'); //10feb
            reloadFilters('secondSel');
            prevSelect='';
            secondSelDeselect=true; //deselect
          }

          optionsFilter('secondSel',$(this).val()); //10feb
          prevSelect = thisSelect;
          thisSelect = $(this).val();


        });

      });
      $(function () {
        var prevSelect = '';
        var thisSelect = $('#thirdSel').val();

        $('#thirdSel').change(function () {

          if (prevSelect == $(this).val() && $(this).val() != null ) {
            //alert('enter');
            $('#xthirdSel div').removeClass('cs-option-selected');
            $('#xthirdSel li').removeClass('cs-selected');
            removeDeselectedOption('thirdSel'); //10feb
            reloadFilters('thirdSel');
            prevSelect='';
            thirdSelDeselect=true; //deselect
          }

          optionsFilter('thirdSel',$(this).val()); //10feb
          prevSelect = thisSelect;
          thisSelect = $(this).val();


        });

      });
      $(function () {
        var prevSelect = '';
        var thisSelect = $('#fourthSel').val();

        $('#fourthSel').change(function () {

          if (prevSelect == $(this).val() && $(this).val() != null ) {
            //alert('enter');
            $('#xfourthSel div').removeClass('cs-option-selected');
            $('#xfourthSel li').removeClass('cs-selected');
            removeDeselectedOption('fourthSel'); //10feb
            reloadFilters('fourthSel');
            prevSelect='';
            fourthSelDeselect=true; //deselect
          }

          optionsFilter('fourthSel',$(this).val()); //10feb
          prevSelect = thisSelect;
          thisSelect = $(this).val();


        });

      });
      $(function () {
        var prevSelect = '';
        var thisSelect = $('#fifthSel').val();

        $('#fifthSel').change(function () {

          if (prevSelect == $(this).val() && $(this).val() != null ) {
            //alert('enter');
            $('#xfifthSel div').removeClass('cs-option-selected');
            $('#xfifthSel li').removeClass('cs-selected');
            removeDeselectedOption('fifthSel'); //10feb
            reloadFilters('fifthSel');
            prevSelect='';
            fifthSelDeselect=true; //deselect
          }

          optionsFilter('fifthSel',$(this).val()); //10feb
          prevSelect = thisSelect;
          thisSelect = $(this).val();


        });

      });

      $('#topic').click(function () {
        $('#toshow').hide();
        $('#ddlSubsetTopic').trigger('disable');
        $('#ddlIndicator').trigger('disable');
      });
      $('#subsettopic').click(function () {
        $('#toshow').hide();
      });
      $('#subtopic').click(function () {
        $('#toshow').hide();
        $('#ddlIndicator').trigger('disable');
      });


      $.ajax({
        type: "POST",
        cache: false,
        url: topicURL,
        //data: '{LanguageID:"' + langID + '"}',
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (data) {
          chkmanual = false;
          $("#ddlTopic").empty();
          //$("#ddlTopic").append($("<option selected=\"selected\"></option>").val(0).html(selectTopic));
          var items = '<option>' + selectTopic + '</option>';
          items += '<option value=20000>' + 'Multi-Indicators Report' + '</option>';
          $.each(data, function (key, value) {
            items += "<option value='" + value.TopicID + "'>" + value.TopicName + "</option>";
            //  $("#TopicID" + language).append($("<option selected=\"selected\"></option>").val(value.TopicID).html(value.TopicName));

            //   $("#ddlTopic").append($("<option></option>").val(value.TopicID).html(value.TopicName));
          });
          $('#ddlTopic').html(items);
          $('#ddlTopic').trigger('optionsChanged');
          globalTopicID = '';
          globalSubTopicID = '';
          globalSubsetTopicID = '';
          globalIndicatorID = globalID;
          if (DownloadFilePage != null && DownloadFilePage == 'true') {

          }
          else {
            if (MultiIndicatorPage != null && MultiIndicatorPage == 'true') {
              $("#ddlTopic").val(20000)
              $("#ddlTopic").trigger('valueChanged');
            }

            else {
              if (globalTopicID != '') {
                chkmanual = true;
                $("#ddlTopic").val(globalTopicID);
                $("#ddlTopic").trigger('valueChanged');
                $("#ddlTopic").trigger('change');

              }
            }
          }

          //self.customSelect('#ddlTopic');
          //Populate Sub Topic DropDown


        },
        error: function (result) {
          //document.getElementById('errorLbl').innerHTML = 'Unable to retrieve the data. Please try again.';
          //$("#Error_box").modal("show");
          //  showMessageBox("", NotRetrieved, function (action) {
          // });
        }
      });

      // globalIndicatorID

    });






    function showDiv() {
      //debugger;
      $(".sitInCorner").slideToggle();
      var p = $("#showdiv");
      var offset = p.offset();
      //01March begin


      if ($(window).width() >= 768 && $(window).width() <= 1024) {   //Medium Device
        if($(window).height() < $(window).width())  //landscape
        {
          $(".sitInCorner").offset({  top: offset.top + 34, left: offset.left-117 })
        }
        else //potrait
        {
          $(".sitInCorner").offset({  top: offset.top + 44, left: offset.left})
        }
      }
      else if ($(window).width() >= 320 && $(window).width() <= 736) {   //Small Device
        if($(window).height() < $(window).width()) //landscape
        {
          $(".sitInCorner").offset({  top: offset.top + 44})
        }
        else //potrait
        {
          $(".sitInCorner").offset({  top: offset.top + 44})
        }
      }
      else {
        $(".sitInCorner").offset({  top: offset.top + 34, left: offset.left -168 });
      }
      //01March end

      //RWD begin
      if (hasIndicatorsGroup) {

        if (!hasFilters) {
          //4march begin
          if ($(window).width() >= 768 && $(window).width() <= 1024) {   //Medium Device
            if (!($(window).height() < $(window).width()))  //potrait
            {
              if ($("#filterOptions").hasClass("col-xs-4")) {
                $("#filterOptions").addClass("col-xs-0");
                $("#filterOptions").removeClass("col-xs-4");
              }
              if ($("#divIndicatorList").hasClass("col-xs-8")) {
                $("#divIndicatorList").addClass("col-xs-12");
                $("#divIndicatorList").removeClass("col-xs-8");
              }
            }
            else {
              if ($("#filterOptions").hasClass("col-xs-0")) {
                $("#filterOptions").addClass("col-xs-4");
                $("#filterOptions").removeClass("col-xs-0");
              }
              if ($("#divIndicatorList").hasClass("col-xs-12")) {
                $("#divIndicatorList").addClass("col-xs-8");
                $("#divIndicatorList").removeClass("col-xs-12");
              }
            }
          }
          else if ($(window).width() >= 320 && $(window).width() <= 736) {   //Small Device
            if ($("#filterOptions").hasClass("col-xs-4")) {
              $("#filterOptions").addClass("col-xs-0");
              $("#filterOptions").removeClass("col-xs-4");
            }
            if ($("#divIndicatorList").hasClass("col-xs-8")) {
              $("#divIndicatorList").addClass("col-xs-12");
              $("#divIndicatorList").removeClass("col-xs-8");
            }
          }
          else {
            if ($("#filterOptions").hasClass("col-xs-0")) {
              $("#filterOptions").addClass("col-xs-4");
              $("#filterOptions").removeClass("col-xs-0");
            }
            if ($("#divIndicatorList").hasClass("col-xs-12")) {
              $("#divIndicatorList").addClass("col-xs-8");
              $("#divIndicatorList").removeClass("col-xs-12");
            }

          }
          //4march end

        }
        else {


          //4march begin
          if ($(window).width() >= 768 && $(window).width() <= 1024) {   //Medium Device
            if (!($(window).height() < $(window).width()))  //potrait
            {
              if ($("#filterOptions").hasClass("col-xs-0")) {
                $("#filterOptions").addClass("col-xs-4");
                $("#filterOptions").removeClass("col-xs-0");
              }
              if ($("#divIndicatorList").hasClass("col-xs-12")) {
                $("#divIndicatorList").addClass("col-xs-8");
                $("#divIndicatorList").removeClass("col-xs-12");
              }
            }
            else {
              if ($("#filterOptions").hasClass("col-xs-0")) {
                $("#filterOptions").addClass("col-xs-4");
                $("#filterOptions").removeClass("col-xs-0");
              }
              if ($("#divIndicatorList").hasClass("col-xs-12")) {
                $("#divIndicatorList").addClass("col-xs-8");
                $("#divIndicatorList").removeClass("col-xs-12");
              }
            }
          }
          else if ($(window).width() >= 320 && $(window).width() <= 736) {   //Small Device
            if ($("#filterOptions").hasClass("col-xs-0")) {
              $("#filterOptions").addClass("col-xs-4");
              $("#filterOptions").removeClass("col-xs-0");
            }
            if ($("#divIndicatorList").hasClass("col-xs-12")) {
              $("#divIndicatorList").addClass("col-xs-8");
              $("#divIndicatorList").removeClass("col-xs-12");
            }
          }
          else {
            if ($("#filterOptions").hasClass("col-xs-0")) {
              $("#filterOptions").addClass("col-xs-4");
              $("#filterOptions").removeClass("col-xs-0");
            }
            if ($("#divIndicatorList").hasClass("col-xs-12")) {
              $("#divIndicatorList").addClass("col-xs-8");
              $("#divIndicatorList").removeClass("col-xs-12");
            }
          }
          //4march end

        }


      }
      else {
        hasIndicatorsGroup = true;
        if ($(window).width() >= 768 && $(window).width() <= 1024) {   //Medium Device
          if (!($(window).height() < $(window).width()))  //potrait
          {
            if ($("#filterOptions").hasClass("col-xs-4")) {
              $("#filterOptions").addClass("col-xs-0");
              $("#filterOptions").removeClass("col-xs-4");
            }
            if ($("#divIndicatorList").hasClass("col-xs-8")) {
              $("#divIndicatorList").addClass("col-xs-12");
              $("#divIndicatorList").removeClass("col-xs-8");
            }
          }
          else {
            if ($("#filterOptions").hasClass("col-xs-0")) {
              $("#filterOptions").addClass("col-xs-4");
              $("#filterOptions").removeClass("col-xs-0");
            }
            if ($("#divIndicatorList").hasClass("col-xs-12")) {
              $("#divIndicatorList").addClass("col-xs-8");
              $("#divIndicatorList").removeClass("col-xs-12");
            }
          }
        }
        else if ($(window).width() >= 320 && $(window).width() <= 736) {   //Small Device
          if ($("#filterOptions").hasClass("col-xs-4")) {
            $("#filterOptions").addClass("col-xs-0");
            $("#filterOptions").removeClass("col-xs-4");
          }
          if ($("#divIndicatorList").hasClass("col-xs-8")) {
            $("#divIndicatorList").addClass("col-xs-12");
            $("#divIndicatorList").removeClass("col-xs-8");
          }
        }
        else {
          if ($("#filterOptions").hasClass("col-xs-0")) {
            $("#filterOptions").addClass("col-xs-4");
            $("#filterOptions").removeClass("col-xs-0");
          }
          if ($("#divIndicatorList").hasClass("col-xs-12")) {
            $("#divIndicatorList").addClass("col-xs-8");
            $("#divIndicatorList").removeClass("col-xs-12");
          }

        }

      }



      //RWD end

    }

    function loadFilters(){
      var TopicIDForFilter = $("#ddlSubsetTopic").val();                      //DynamicOptions
      var showFirstSel= false;    //10feb
      var showSecondSel= false;    //10feb
      var showThirdSel= false;    //10feb
      var showFourthSel= false;    //10feb
      var showFifthSel= false;    //10feb
      $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: filterdropdownURl,
        data: '{TopicID:"' + TopicIDForFilter + '"}',                       //DynamicOptions
        dataType: "json",
        success: function (data1) {


          filterStore=data1;
          regexArray= new Array(); //empty regex Array
          filterArray= new Array(); //empty filter Array                  //DynamicOptions

          $('#firstSel').empty();
          $('#firstSel').html='';
          $('#firstSel').append($("<option value='0' disabled='disabled' selected='selected' hidden='hidden'></option>").val('Gender').html('Gender'));


          $('#secondSel').empty();
          $('#secondSel').html='';
          $('#secondSel').append($("<option value='0' disabled='disabled' selected='selected' hidden='hidden'></option>").val('Quintile').html('Quintile'));


          $('#thirdSel').empty();
          $('#thirdSel').html='';
          $('#thirdSel').append($("<option value='0' disabled='disabled' selected='selected' hidden='hidden'></option>").val('Area').html('Area'));


          $('#fourthSel').empty();
          $('#fourthSel').html='';
          $('#fourthSel').append($("<option value='0' disabled='disabled' selected='selected' hidden='hidden'></option>").val('Age').html('Age'));


          $('#fifthSel').empty();
          $('#fifthSel').html='';
          $('#fifthSel').append($("<option value='0' disabled='disabled' selected='selected' hidden='hidden'></option>").val('Education').html('Education'));


          $.each(data1, function (j, v) {

            if (data1[j].configKey == 'Gender') {


              $('#firstSel').append($("<option></option>").val(data1[j].configvalue).html(data1[j].configvalue));
              showFirstSel=true //10feb

            }
            if (data1[j].configKey == 'Quintile') {


              $('#secondSel').append($("<option></option>").val(data1[j].configvalue).html(data1[j].configvalue));
              showSecondSel=true //10feb
            }
            if (data1[j].configKey == 'Area') {


              $('#thirdSel').append($("<option></option>").val(data1[j].configvalue).html(data1[j].configvalue));
              showThirdSel=true //10feb

            }
            if (data1[j].configKey == 'Age') {


              $('#fourthSel').append($("<option></option>").val(data1[j].configvalue).html(data1[j].configvalue));
              showFourthSel=true //10feb

            }
            if (data1[j].configKey == 'Education') {


              $('#fifthSel').append($("<option></option>").val(data1[j].configvalue).html(data1[j].configvalue));
              showFifthSel=true //10feb

            }

          });

          $('#firstSel').trigger('optionsChanged');
          $('#firstSel').addClass('cs-select');

          $('#secondSel').trigger('optionsChanged');
          $('#secondSel').addClass('cs-select');

          $('#thirdSel').trigger('optionsChanged');
          $('#thirdSel').addClass('cs-select');

          $('#fourthSel').trigger('optionsChanged');
          $('#fourthSel').addClass('cs-select');

          $('#fifthSel').trigger('optionsChanged');
          $('#fifthSel').addClass('cs-select');


          if (!$('body').hasClass('InternetExplorer')) {
            // Change select styles
            [].slice.call(document.querySelectorAll('select.cs-select')).forEach(function (el) {
              new SelectFx(el);
            });
          }


          //10feb begin
          if (showFirstSel==false && showSecondSel==false && showThirdSel==false && showFourthSel==false && showFifthSel==false) {
            hasFilters = false; //RWD
            $('#filterOptions').css('visibility','hidden');
            $('#xfirstsel').hide();
            $('#xsecondSel').hide();
            $('#xthirdSel').hide();
            $('#xfourthSel').hide();
            $('#xfifthSel').hide();

          }
          else{
            hasFilters = true; //RWD
            $('#filterOptions').css('visibility','visible');
            if (showFirstSel==true) {
              $('#xfirstsel').show();
            }
            else{
              $('#xfirstsel').hide();
            }
            if (showSecondSel==true) {
              $('#xsecondSel').show();
            }
            else{
              $('#xsecondSel').hide();
            }
            if (showThirdSel==true) {
              $('#xthirdSel').show();
            }
            else{
              $('#xthirdSel').hide();
            }
            if (showFourthSel==true) {
              $('#xfourthSel').show();
            }
            else{
              $('#xfourthSel').hide();
            }
            if (showFifthSel==true) {
              $('#xfifthSel').show();
            }
            else{
              $('#xfifthSel').hide();
            }
          }
          //10feb end

        },
        error: function (Result1) {
        }
      });

    }
    function reloadFilters(filterMenu){
      //////////////


      if(filterMenu =='firstSel'){
        $('#firstSel').empty();
        $('#firstSel').html='';
        $('#firstSel').append($("<option value='0' disabled='disabled' selected='selected' hidden='hidden'></option>").val('Gender').html('Gender'));
      }
      if(filterMenu =='secondSel'){
        $('#secondSel').empty();
        $('#secondSel').html='';
        $('#secondSel').append($("<option value='0' disabled='disabled' selected='selected' hidden='hidden'></option>").val('Quintile').html('Quintile'));
      }
      if(filterMenu =='thirdSel'){
        $('#thirdSel').empty();
        $('#thirdSel').html='';
        $('#thirdSel').append($("<option value='0' disabled='disabled' selected='selected' hidden='hidden'></option>").val('Area').html('Area'));
      }
      if(filterMenu =='fourthSel'){
        $('#fourthSel').empty();
        $('#fourthSel').html='';
        $('#fourthSel').append($("<option value='0' disabled='disabled' selected='selected' hidden='hidden'></option>").val('Age').html('Age'));
      }
      if(filterMenu =='fifthSel'){
        $('#fifthSel').empty();
        $('#fifthSel').html='';
        $('#fifthSel').append($("<option value='0' disabled='disabled' selected='selected' hidden='hidden'></option>").val('Education').html('Education'));
      }




      $.each(filterStore, function (j, v) {

        if (filterMenu=='firstSel' && filterStore[j].configKey == 'Gender') {

          //$("#firstSel").append("<option value='" + data1[j].configvalue + "'>" + data1[j].configvalue + "</option>");
          $('#firstSel').append($("<option></option>").val(filterStore[j].configvalue).html(filterStore[j].configvalue));

        }
        if (filterMenu=='secondSel' && filterStore[j].configKey == 'Quintile') {

          $("#secondSel").append("<option value='" + filterStore[j].configvalue + "'>" + filterStore[j].configvalue + "</option>");

        }
        if (filterMenu=='thirdSel' && filterStore[j].configKey == 'Area') {

          $("#thirdSel").append("<option value='" + filterStore[j].configvalue + "'>" + filterStore[j].configvalue + "</option>");

        }
        if (filterMenu=='fourthSel' && filterStore[j].configKey == 'Age') {

          $("#fourthSel").append("<option value='" + filterStore[j].configvalue + "'>" + filterStore[j].configvalue + "</option>");

        }
        if (filterMenu=='fifthSel' && filterStore[j].configKey == 'Education') {

          $("#fifthSel").append("<option value='" + filterStore[j].configvalue + "'>" + filterStore[j].configvalue + "</option>");

        }

      });





      if (!$('body').hasClass('InternetExplorer')) {
        // Change select styles
        [].slice.call(document.querySelectorAll('select.cs-select')).forEach(function (el) {
          new SelectFx(el);
        });
      }



    }

    function showHideFilterOptions()
    {
      //   debugger;
      var firstSelOptions=new Array();
      var secondSelOptions=new Array();
      var thirdSelOptions=new Array();
      var fourthSelOptions=new Array();
      var fifthSelOptions=new Array();

      $.each(filterStore, function (j, v) {

        if (filterStore[j].configKey == 'Gender') {
          firstSelOptions.push(filterStore[j].configvalue);
        }
        if (filterStore[j].configKey == 'Quintile') {
          secondSelOptions.push(filterStore[j].configvalue);
        }
        if (filterStore[j].configKey == 'Area') {
          thirdSelOptions.push(filterStore[j].configvalue);
        }
        if ( filterStore[j].configKey == 'Age') {
          fourthSelOptions.push(filterStore[j].configvalue);
        }
        if (filterStore[j].configKey == 'Education') {
          fifthSelOptions.push(filterStore[j].configvalue);
        }

      });

      if(isPresentInIndicatorList(firstSelOptions)){

        $('#xfirstsel').show();
      }
      else {

        $('#xfirstsel').hide();
      }
      if(isPresentInIndicatorList(secondSelOptions)){

        $('#xsecondSel').show();
      }
      else {

        $('#xsecondSel').hide();

      }
      if(isPresentInIndicatorList(thirdSelOptions)){

        $('#xthirdSel').show();
      }
      else {

        $('#xthirdSel').hide();
      }
      if(isPresentInIndicatorList(fourthSelOptions)){

        $('#xfourthSel').show();
      }
      else {

        $('#xfourthSel').hide();
      }
      if(isPresentInIndicatorList(fifthSelOptions)){

        $('#xfifthSel').show();
      }
      else{

        $('#xfifthSel').hide();
      }

    }
    function isPresentInIndicatorList(optionsArray){
      // debugger;
      var optionsValueString=''
      var isPresent=false;

      for (var l = 0; l < optionsArray.length; l++) {
        if(l==0)
        {
          optionsValueString ="\\b"+optionsArray[l].replace('(','').replace(')','')+"\\b";
        }
        else{
          optionsValueString =optionsValueString +"|\\b"+optionsArray[l].replace('(','').replace(')','')+"\\b";
        }
      }

      if (optionsArray.length > 0) {
        var optionsValueStringFinal='^'+optionsValueString+'.*$';
        var pattern = new RegExp(optionsValueStringFinal, "m");
        isPresent = $('#ddlIndicatorlist').find('li').is(function (index) {
          var li = $(this).find('span').html().replace('(','').replace(')','');

          if (pattern.test(li)==true) {
            return li;
          }

        })
      }
      return isPresent;
    }

    //10feb begin
    function removeDeselectedOption(optionString) {
      if (optionString!='' && optionString!= undefined && filterArray.length > 0) {
        for (var d = 0; d < filterArray.length; d++) {
          if(filterArray[d][0] ==optionString ){
            filterArray.splice(d, 1);
          }
        }
      }
    }
    function optionsFilter(menu,filterText){

      if(isPresentInFilterArray(filterText)==false)
      {
        if (filterText != null) {
          removeDeselectedOption(menu);
          filterArray.push([menu,filterText]);        //DynamicOptions
        }
      }
      if(filterArray.length != undefined &&  filterArray.length> 0)
      {
        //  debugger;
        var listIndicator;
        var IsMatchedTrue=false;
        var removeIndicatorList= new Array();
        if (indicatorStore.length != undefined) {
          for (var a = 0; a < indicatorStore.length; a++) {
            for (var b = 0; b < filterArray.length; b++) {
              if(filterArray[b] != undefined)
              {
                IsMatchedTrue = isPresentInIndicator(filterArray[b][0] ,filterArray[b][1],a)
                if(IsMatchedTrue ==false)
                {
                  removeIndicatorList.push((indicatorStore[a].IndicatorID).toString());
                  break;
                }
                else
                {
                }
              }
            }
          }
        }
      }
      $('#ddlIndicatorlist > li').each(function (index, item) {
        if( removeIndicatorList != undefined && $.inArray($(this).attr('data-value'),removeIndicatorList) != '-1' )
        {
          $(this).hide();
        }
        else
        {
          $(this).show();
        }

      })
    }
    function isPresentInIndicator(menu,option,index){
      var IsMatched=false;
      if(menu =='firstSel')
      {
        IsMatched= (option==indicatorStore[index].Gender) ;
      }
      else if(menu =='secondSel'){
        IsMatched= (option==indicatorStore[index].Quintile) ;
      }
      else if(menu =='thirdSel'){
        IsMatched= (option==indicatorStore[index].Area) ;
      }
      else if(menu =='fourthSel'){
        IsMatched= (option==indicatorStore[index].Age) ;
      }
      else if(menu =='fifthSel'){
        IsMatched= (option==indicatorStore[index].Education) ;
      }
      return IsMatched;
    }
    function isPresentInFilterArray(filterText){
      var isPresent= false;
      for (var e = 0; e < filterArray.length; e++) {
        if($.inArray(filterText,filterArray[e]) != -1)
        {
          isPresent= true;
          break;
        }

      }
      return isPresent;
    }
    //10feb end

    //function redirectToIndicator() {

    //    //  debugger;
    //    var indicatorID = $("#ddlIndicator").val();
    //    var indicatorName = $("#ddlIndicator:Selected").text();

    //    //dataLayer.push({ 'event': 'dataTrack', 'eventCategory': 'Search Indicator', 'eventAction': 'Indicator', 'eventLabel': indicatorName });
    //    if (langCode == "en")

    //        window.location.href = indicatorredirect + '?languageId=en&typeOfUrl=C&indicatorId=' + indicatorID;
    //    else if (langCode == "es")
    //        window.location.href = indicatorredirect + '?languageId=es&typeOfUrl=C&indicatorId=' + indicatorID;
    //}
    function redirectToIndicatorNew(IndicatorIdToRedirect) {

      // debugger;

      var indicatorID = IndicatorIdToRedirect;
      if ($("#ddlIndicatorlist li:contains(indicatorID)")) {

        $("#ddlIndicatorlist").on('click', 'li', function () {

          $('#showdiv span').attr('title', $(this).text()).html($(this).text());
          $('#showdiv span').css('background', '#FFA800');
        });

      }
      // alert("indicatorName1 : " + indicatorName);
      //dataLayer.push({ 'event': 'dataTrack', 'eventCategory': 'Search Indicator', 'eventAction': 'Indicator', 'eventLabel': indicatorName });
      if (langCode == "en")

        window.location.href = indicatorredirect + '?languageId=en&typeOfUrl=C&indicatorId=' + IndicatorIdToRedirect;
      else if (langCode == "es")
        window.location.href = indicatorredirect + '?languageId=es&typeOfUrl=C&indicatorId=' + IndicatorIdToRedirect;
    }


    function redirectToCountry() {
      // debugger;
      var countryID = $("#ddlCountrysrch").val();
      var counrtryName = $("#ddlCountrysrch :Selected").text();
      //alert("counrtryName : " + counrtryName);
      //dataLayer.push({ 'event': 'dataTrack', 'eventCategory': 'Search Country', 'eventAction': 'Country', 'eventLabel': counrtryName });
      //hiding CountrydataDownload
      if (countryID == 999) {
        window.location.href = countryDowloadRedirect;
      }
      else {

        if (langCode == "en")
          window.location.href = countryredirect + '?languageId=en&type=C&startYear=' + strYear + '&endYear=' + endYearUrl + '&first=&second=&isSocial=0&page=1&topicId=0&subtopicId=0&identifier=' + countryID;
        else if (langCode == "es")
          window.location.href = countryredirect + '?languageId=es&type=C&startYear=' + strYear + '&endYear=' + endYearUrl + '&first=&second=&isSocial=0&page=1&topicId=0&subtopicId=0&identifier=' + countryID;
      }
    }


    function checkManual() {
      chkmanual = false;
    }
    function checkSubTopicClick() {
      chkSubTopic = false;
    }
    function checkSubsetTopicClick() {
      chkSubsetTopic = false;
    }
    function populateSubTopic() {
      //  debugger;
      var TopicID = $("#ddlTopic").val();
      chkhomepage = '';
      // var langID = 1;
      if (TopicID != 0 && TopicID != 20000) {
        $("#srch").addClass("col-lg-1").removeClass("col-lg-3");
        $(".srch-spec").addClass("col-md-1").removeClass("col-md-2");
        $('#ddlSubTopic').trigger('enable');
        $.ajax({
          type: "POST",
          cache: false,
          //url: '/HomePage/GetAllSubTopic',
          url: SubTopicURL,
          data: '{TopicID:"' + TopicID + '"}',
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function (data) {

            //Hides the indicator drop down
            if (chkhomepage == 'False') {
              $('#ddlIndicator').trigger('disable');
            }
            $('#ddlSubTopic').empty();
            $('#ddlSubTopic').html = "";

            $('#ddlSubTopic').append($("<option></option>").val(0).html(selectSubTopic));
            $.each(data, function (key, value) {
              $('#ddlSubTopic').append($("<option></option>").val(value.TopicID).html(value.TopicName));
            });
            $('#ddlSubTopic').trigger('optionsChanged');

            $('#ddlSubTopic').addClass('cs-select');
            if (!$('body').hasClass('InternetExplorer')) {
              // Change select styles
              [].slice.call(document.querySelectorAll('select.cs-select')).forEach(function (el) {
                new SelectFx(el);
              });
            }

            if (MultiIndicatorPage != null && MultiIndicatorPage == 'true') {
              //$("#ddlTopic").val(20000)
              //$("#ddlTopic").trigger('valueChanged');


            }
            else {
              if (globalSubTopicID != '' && chkmanual) {
                chkSubTopic = true;
                $("#ddlSubTopic").val(globalSubTopicID)
                $("#ddlSubTopic").trigger('valueChanged');
                $("#ddlSubTopic").trigger('change');

              }
            }

            // var el = ddlSubTopic;
            //new SelectFx(el, {
            //    onChange: function (val) {
            //        $(el).val(val);
            //        $(el).trigger('change');
            //    }
            //});
          },
          error: function (result) {
            //document.getElementById('errorLbl').innerHTML = 'Unable to retrieve the data. Please try again.';
            //$("#Error_box").modal("show");
            //    showMessageBox("", NotRetrieved, function (action) {
            //   });
          }
        });
      }
      //else  if (MultiIndicatorPage != null && MultiIndicatorPage == 'true' && TopicID == 20000) {
      //     window.location.href = multiindicatorRedirect;
      // }
      else if (TopicID == 20000) {
        window.location.href = multiindicatorRedirect;
      }


    }

    function hidesubsettopic() {

      hasIndicatorsGroup = false; //RWD
      var TopicID = $("#ddlSubTopic").val();
      //var selectIndicator = selectIndicator;

      chkhomepage = '';
      // var langID= 1;
      if (TopicID != 0) {
        $('#ddlIndicator').trigger('enable');
        $.ajax({
          type: "POST",
          cache: false,
          url: indicatorURLfornull,
          data: '{TopicID:"' + TopicID + '",languageID:"' + langID + '"}',
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function (data) {

            $('#ddlIndicatorlist').empty();
            $('#ddlIndicatorlist').html = "";
            $('#showdiv span').attr('title', selectIndicator).html(selectIndicator);
            $('#showdiv span').css('background', '#0079A5');
            //$('#ddlIndicator').append($("<option></option>").val(0).html(selectIndicator));
            $.each(data, function (key, value) {
              //countries count
              var IndicatorCountryText =value.IndicatorName;
              IndicatorCountryText = IndicatorCountryText.replace('[', '<i class="CountriesAvailable"> [');
              IndicatorCountryText = IndicatorCountryText.replace(']', '] </i>');
              //countries count
              $("#ddlIndicatorlist").append('<li data-value=' + value.IndicatorID + '><a  class="line " onClick="redirectToIndicatorNew(' + (value.IndicatorID) + ')"><span>' + IndicatorCountryText + '</span></a></li>');

            });
            //$('#ddlIndicator').trigger('optionsChanged');

            $('#ddlIndicator').addClass('cs-select');
            if (!$('body').hasClass('InternetExplorer')) {
              // Change select styles
              [].slice.call(document.querySelectorAll('select.cs-select')).forEach(function (el) {
                new SelectFx(el);
              });
            }
            //loadFilters();
            $('#ddlIndicator').trigger('optionsChanged');
            if (globalIndicatorID != '') {
              if (chkhomepage == 'False') {
                //  debugger;


                if ($.grep($("#ddlIndicatorlist li"), function (e) { return globalIndicatorID == e.attributes['data-value'].value; }).length != 0) {

                  $('#showdiv span').attr('title', '').html('');

                  $('#showdiv span').css('background', '#FFA800');
                } else {
                  $('#showdiv span').attr('title', selectIndicator).html(selectIndicator);
                  $('#showdiv span').css('background', '#0079A5');
                }

              }
            }


          },
          error: function (result) {
            //document.getElementById('errorLbl').innerHTML = 'Unable to retrieve the data. Please try again.';
            //$("#Error_box").modal("show");
            //    showMessageBox("", NotRetrieved, function (action) {
            //   });
          }
        });
      }
    }
    function populatesubsettopic() {

      var TopicID = $("#ddlSubTopic").val();
      chkhomepage = '';
      var selectsubsettopic = SelectSubsetTopic;
      //var langID= 1;
      if (TopicID != 0) {
        $('#ddlSubsetTopic').trigger('enable');
        $.ajax({
          type: "POST",
          cache: false,
          url: SubsetTopicURL,
          data: '{TopicID:"' + TopicID + '",languageID:"' + langID + '"}',
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function (data) {
            if (data != 0) {
              //  Hides the indicator drop down
              if (chkhomepage == 'False') {
                $('#ddlIndicator').trigger('disable');
              }
              $('#ddlSubsetTopic').empty();
              $('#ddlSubsetTopic').html = "";
              //$('#hidefilters').show();
              $('#filterOptions').css('visibility', 'visible');
              $('#subsettopic').show();
              $('#subsettopic').click(function () {
                $('#subsettopic li:contains(Indicators Group)').hide();


              });

              $('#ddlSubsetTopic').append($("<option></option>").val(selectsubsettopic).html(selectsubsettopic));
              $.each(data, function (key, value) {
                //$('#ddlSubsetTopic').append($("<option></option>").val(value.TopicID).html(value.TopicName));
                $('#ddlSubsetTopic').append("<option value='" + value.TopicID + "'>" + value.TopicName + "</option>");

              });

              $('#ddlSubsetTopic').trigger('optionsChanged');

              $('#ddlSubsetTopic').addClass('cs-select');



              if (!$('body').hasClass('InternetExplorer')) {
                // Change select styles
                [].slice.call(document.querySelectorAll('select.cs-select')).forEach(function (el) {
                  new SelectFx(el);
                });
              }
              if (globalSubsetTopicID != '' && chkSubTopic) {
                chkSubsetTopic = true;
                $("#ddlSubsetTopic").val(globalSubsetTopicID)
                $("#ddlSubsetTopic").trigger('valueChanged');
                $("#ddlSubsetTopic").trigger('change');

              }
            }
            else {
              // debugger;
              hidesubsettopic();
              $('#ddlSubsetTopic').trigger('disable');
              //$('#hidefilters').hide();
              $('#filterOptions').css('visibility', 'hidden');
              $('#subsettopic').hide()

            }
            // var el = ddlSubTopic;
            //new SelectFx(el, {
            //    onChange: function (val) {
            //        $(el).val(val);
            //        $(el).trigger('change');
            //    }
            //});
          },
          error: function (result) {
            //document.getElementById('errorLbl').innerHTML = 'Unable to retrieve the data. Please try again.';
            //$("#Error_box").modal("show");
            //    showMessageBox("", NotRetrieved, function (action) {
            //   });
          }
        });
      }
    }

    function populateIndicators() {

      var TopicID = $("#ddlSubsetTopic").val();
      chkhomepage = '';
      //var langID = 1;
      if (TopicID != 0) {
        //$('#ddlIndicator').trigger('enable');
        $.ajax({
          type: "POST",
          cache: false,
          //url: '/HomePage/GetAllIndicators',
          url: indicatorURL,
          data: '{TopicID:"' + TopicID + '"}',
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function (data) {
            //Shows the indicator drop down
            indicatorStore=data; //10feb
            $('#ddlIndicator').trigger('enable');


            $('#ddlIndicatorlist').empty();
            $('#ddlIndicatorlist').html = "";
            $('#showdiv span').attr('title',selectIndicator).html(selectIndicator);
            $('#showdiv span').css('background','#0079A5');
            // $('#ddlIndicator').append($("<option></option>").val(0).html(selectIndicator));
            $.each(data, function (key, value) {
              //countries count
              var IndicatorCountryText =value.IndicatorName;
              IndicatorCountryText = IndicatorCountryText.replace('[', '<i class="CountriesAvailable"> [');
              IndicatorCountryText = IndicatorCountryText.replace(']', '] </i>');
              //countries count
              $("#ddlIndicatorlist").append('<li data-value=' + value.IndicatorID + '><a  class="line " onClick="redirectToIndicatorNew(' + (value.IndicatorID) + ')"><span>' + IndicatorCountryText+ '</span></a></li>')


            });
            //$('#ddlIndicator')[0][data.length].text = $('#ddlIndicator')[0][data.length].text.replace('[', '<i class="CountriesAvailable"> [');
            //$('#ddlIndicator')[0][data.length].text = $('#ddlIndicator')[0][data.length].text.replace(']', '] </i>');
            //  $('#ddlIndicator').trigger('optionsChanged');

            $('#ddlIndicator').addClass('cs-select');

            if (!$('body').hasClass('InternetExplorer')) {
              // Change select styles
              [].slice.call(document.querySelectorAll('select.cs-select')).forEach(function (el) {
                new SelectFx(el);
              });
            }

            $('#ddlIndicator').trigger('optionsChanged');
            if (globalIndicatorID != '' && chkSubsetTopic) {
              if (chkhomepage == 'False') {


                //$("#ddlIndicator").val(globalIndicatorID)
                //$("#ddlIndicator").trigger('valueChanged');
                if ($.grep($("#ddlIndicatorlist li"), function (e) { return globalIndicatorID == e.attributes['data-value'].value; }).length != 0) {
                  //if($("#ddlIndicatorlist li:contains(globalIndicatorID)") ){

                  $('#showdiv span').attr('title', '').html('');

                  $('#showdiv span').css('background', '#FFA800');
                }
                else {
                  $('#showdiv span').attr('title', selectIndicator).html(selectIndicator);
                  $('#showdiv span').css('background', '#0079A5');
                }

              }
            }



            loadFilters();


          },
          error: function (result) {
            //document.getElementById('errorLbl').innerHTML = 'Unable to retrieve the data. Please try again.';
            //$("#Error_box").modal("show");
            //    showMessageBox("", NotRetrieved, function (action) {
            //   });
          }
        });
      }


    }

    $(document).ready(function () {
      //Populate Indicator for auto complete
      $("#project").attr('maxlength', '250');
      jsonIndicatorData = [];

      $.ajax({
        cache: false,

        type: "GET",
        url: '/HomePage/GetIndicatorData',
        data: {},
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (jsondata) {


          BindAutoComplete(jsondata);

          // $('#AutocompleteElementID').data().uiAutocomplete.term = null;
        }
      });

      $.ajax({
        type: "POST",
        cache: false,
        url: countryURL,
        data: '{LanguageID:"' + langID + '"}',
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (data) {
          $("#ddlCountrysrch").empty();
          //$("#ddlTopic").append($("<option selected=\"selected\"></option>").val(0).html(selectTopic));
          //  $('#ddlCountryNarrative').append($("<option></option>").val(0).html(selectSubTopic));

          var items = '<option value=0>' + selectCountry + '</option>';
          items += '<option value=999>' + 'COUNTRIES DATA DOWNLOAD' + '</option>';
          var items_code = '<option value=0>' + selectCountry + '</option>';
          $.each(data, function (key, value) {
            items += "<option value='" + value.countryID + "'>" + value.countryName + "</option>";
            items_code += "<option value='" + value.CountryCode + "'>" + value.countryName + "</option>";
            //  $("#TopicID" + language).append($("<option selected=\"selected\"></option>").val(value.TopicID).html(value.TopicName));

            //   $("#ddlTopic").append($("<option></option>").val(value.TopicID).html(value.TopicName));
          });
          $('#ddlCountrysrch').html(items);
          // $('#ddlCountryNarrative').html(items);
          // $('#ddlCountryPop').html(items);
          //$('#ddlCAG').html(items_code);
          $('#ddlCountrysrch').trigger('optionsChanged');
          // $('#ddlCountryNarrative').trigger('optionsChanged');
          $('#ddlCountryPop').trigger('optionsChanged');
          $('#ddlCAG').trigger('optionsChanged');
          $('#ddlCountryNarrative').trigger('optionsChanged');
          $('#ddlindicatorNarrative').trigger('optionsChanged');
          $("#divcntypop").children().addClass('cs-option-selected');
          countryID_searchbox = '';
          if (DownloadFilePage != null && DownloadFilePage == 'true') {
            $('#ddlCountrysrch').val('999');
            $('#ddlCountrysrch').trigger('valueChanged');
          }
          else {

            if (MultiIndicatorPage != null && MultiIndicatorPage == 'true') {
              $('#ddlTopic').val('20000');
              $('#ddlTopic').trigger('valueChanged');


            }
            else {
              if (countryID_searchbox != '') {
                // alert('after' + countryID_searchbox);
                $('#ddlCountrysrch').val(countryID_searchbox);
                $('#ddlCountrysrch').trigger('valueChanged');
              }
            }


          }

        },
        error: function (result) {

        }
      });

    });
    function BindAutoComplete(IndicatorList) {
      jsonIndicatorData = []
      $("#empty-message").empty();
      $.each(IndicatorList, function (index, element) {

        jsonIndicatorData.push({ label: element.IndicatorLongName, desc: "", IndicatorId: element.IndicatorId, IndicatorLongName: element.IndicatorLongName });
        jsonIndicatorData.push({ label: element.Synonym + "*", desc: "<em style='font-size:0.8em'>&nbsp;(Synonyms matched)</em>", IndicatorId: element.IndicatorId, IndicatorLongName: element.IndicatorLongName });

      });

      $("#project").autocomplete(
        {
          minLength: 3,
          delay: 1000,
          source: jsonIndicatorData,

          focus: function (event, ui) {
            //$("#project").val(ui.item.IndicatorName);

            return false;
          },

          change: function (event, ui) {
            // debugger;
            if (ui.content === null || $("#project").val() === '') {
              $("#empty-message").empty();
            }
            return false;
          },
          select: function (event, ui) {

            $("#project").val(ui.item.IndicatorLongName);
            $("#project-id").val(ui.item.value);
            $("#project-description").html(ui.item.desc);

            $('.project').trigger('change');
            //debugger;
            //alert("ui.item" + ui.item);
            //Google Analytics
            // dataLayer.push({ 'event': 'dataTrack', 'eventCategory': 'Homepage Search', 'eventAction': 'Indicator', 'eventLabel': ui.item.IndicatorLongName });
            //To Avoid retaining through AutoComplete
            window.location.href = indicatorredirect + '?languageId=' + langID + '&indicatorId=' + ui.item.IndicatorId + '&typeOfUrl=C&chkTopicID=0';
            return false;
          },
          open: function (event, ui) {


            var resultsList = $("ul.ui-autocomplete > li.ui-menu-item > ");
            var srchTerm = $.trim($("#project").val());

            //--- Loop through the results list and highlight the terms.
            resultsList.each(function () {
              var jThis = $(this);
              //var oldTxt = jThis.text();

              var regX = new RegExp('(' + Escape(srchTerm) + ')', "ig");
              var oldTxt = jThis.text();

              jThis.html(oldTxt.replace(regX, '<em class="srchHilite">$1</em>'));
            });
          },
          response: function (event, ui) {

            $("#project").keyup(function () {
              if (!this.value)
              { $("#empty-message").empty(); }
            });
            // ui.content is the array that's about to be sent to the response callback.
            if (ui.content.length === 0) {
              $("#empty-message").text('No results found');
              // $("#project").val(""); to empty the search text box
            } else {
              $("#empty-message").empty();
            }
          },
          sortResults: true

        }).autocomplete("instance")._renderItem =
        function (ul, item) {
          var that = this;
          var prev = null;
          // $("#ui-id-1").addClass("ui-width");
          if (prev != item.IndicatorLongName) {
            $('li').filter(function () { return $.text([this]) === item.IndicatorLongName; }).remove();
            return $("<li>").append("<a>" + item.IndicatorLongName + "<br><b>" + item.desc + "</b></br>").appendTo(ul);
          }
          prev = item.name

        };

      $(document).on('touchstart', '.ui-menu-item', function (event, ui) {

        flag = true;
        //$('.project').trigger('change');
      });

      $(document).on('touchmove', '.ui-menu-item', function (event, ui) {

        flag = false;
      });

      $(document).on('touchend', '.ui-menu-item', function (event, ui) {

        if (flag) {
          var myHomeId = this.id;
          var myHomeLabel = $('#' + myHomeId).text();
          for (i = 0; i < jsonIndicatorData.length; i++) {
            if (myHomeLabel == jsonIndicatorData[i].IndicatorLongName) {
              $("#project").val(jsonIndicatorData[i].IndicatorLongName);
              $("#project-id").val(jsonIndicatorData[i].value);
              $("#project-description").html(jsonIndicatorData[i].desc);
              $('.project').trigger('change');
              //Google Analytics
              //alert("jsonIndicatorData[i] : " + jsonIndicatorData[i]);
              //dataLayer.push({ 'event': 'dataTrack', 'eventCategory': 'Homepage Search', 'eventAction': 'Indicator', 'eventLabel': jsonIndicatorData[i].IndicatorLongName });
              $('.ui-autocomplete').hide();
              window.location.href = indicatorredirect + '?languageId=' + 1 + '&indicatorId=' + jsonIndicatorData[i].IndicatorId + '&typeOfUrl=C';

              return false;
            }
          }
        }
      });

    }








    //]]>
  </script>
  <div class="navigation-search" id="searchbar">
  </div>
  <!-- Navigation Search -->        <div class="col-xs-12 container-navigation-searchcommon" style="padding-bottom: 15px; padding-left:15px;">
  <div class="navigation-search " id="searchbar">
    <div class="col-xs-12 col-md-2 col-lg-2 container_selectscommon">
      <div class="cs-select local_search text-upper-case cs-select-country" tabindex="0">
                <span class="cs-placeholder ddlplaceholder" title="FIND INDICATOR">
                  Select Option
                </span>
        <div class="cs-options">
          <ul>
          </ul>
        </div>
        <select class="local_search text-upper-case cs-select-country cs-select-bind" id="ddlCountrysrch" onchange="redirectToCountry();"/>
      </div>
    </div>
    <img src="/img/search-pipeline.png" class="pull-left search-pipeline1 hidden-xs hidden-sm"/>
    <div class="col-xs-12 col-md-2 col-lg-2 " id="topic" onclick="checkManual();">
      <div class="cs-select local_search cs-placeholder " tabindex="0">
                <span class="cs-placeholder ddlplaceholder" title="FIND INDICATOR">
                  Select Option
                </span>
        <div class="cs-options">
          <ul>
          </ul>
        </div>
        <select class="local_search cs-placeholder  cs-select-bind" title="SELECT TOPIC" id="ddlTopic" onchange="populateSubTopic();"/>
      </div>
    </div>
    <div class="col-xs-12 col-md-2 col-lg-2 " id="subtopic" onclick="checkSubTopicClick();">
      <select class="local_search" title="SELECT A TOPIC" id="ddlSubTopic" onchange="populatesubsettopic();">
        <option value="0" selected="selected">
          SELECT A TOPIC
        </option>
      </select>
    </div>
    <div class="col-xs-12 col-md-2 col-lg-2 " id="subsettopic" onclick="checkSubsetTopicClick();">
      <select class="local_search" title="Indicators Group" id="ddlSubsetTopic" onchange="populateIndicators();">
        <option value="0" disabled="disabled" selected="selected" hidden="hidden">
          Indicators Group
        </option>
      </select>
    </div>
    <div class="col-xs-12 col-md-2 col-lg-2">
      <div id="showdiv" onclick="showDiv()" title="Click Me" style="cursor: pointer;">
        <select class="local_search cs-select-indicator" title="SELECT AN  INDICATOR" id="ddlIndicator">
          <option value="0" selected="selected">
            SELECT AN  INDICATOR
          </option>
        </select>
      </div>
      <div id="toshow" class="sitInCorner filterDivWidth" style="padding-left: 0px; padding-right: 0px; display: none;">
        <div class="col-xs-4 filterOptions " id="filterOptions" style="padding-left: 0px; padding-right: 0px; bottom: -31px; visibility: hidden">
          <div class="col-xs-12  " id="xfirstsel" style="padding-left: 0px; padding-right: 0px">
            <div class="cs-select local_search cs-placeholder category " tabindex="0">
                      <span class="cs-placeholder ddlplaceholder" title="Gender">
                        Gender
                      </span>
              <div class="cs-options">
                <ul>
                </ul>
              </div>
              <select class="local_search cs-placeholder category  cs-select-bind" id="firstSel" title="Gender">
                <option value="0" disabled="disabled" selected="selected" hidden="hidden">
                  Gender
                </option>
              </select>
            </div>
          </div>
          <div class="col-xs-12 " id="xsecondSel" style="padding-left: 0px; padding-right: 0px">
            <div class="cs-select local_search cs-placeholder category" tabindex="0">
                      <span class="cs-placeholder ddlplaceholder" title="Quintile">
                        Quintile
                      </span>
              <div class="cs-options">
                <ul>
                </ul>
              </div>
              <select class="local_search cs-placeholder category cs-select-bind" id="secondSel" title="Quintile">
                <option value="0" disabled="disabled" selected="selected" hidden="hidden">
                  Quintile
                </option>
              </select>
            </div>
          </div>
          <div class="col-xs-12 " id="xthirdSel" style="padding-left: 0px; padding-right: 0px">
            <div class="cs-select local_search cs-placeholder category" tabindex="0">
                      <span class="cs-placeholder ddlplaceholder" title="Area">
                        Area
                      </span>
              <div class="cs-options">
                <ul>
                </ul>
              </div>
              <select class="local_search cs-placeholder category cs-select-bind" id="thirdSel" title="Area">
                <option value="0" disabled="disabled" selected="selected" hidden="hidden">
                  Area
                </option>
              </select>
            </div>
          </div>
          <div class="col-xs-12 " id="xfourthSel" style="padding-left: 0px; padding-right: 0px">
            <div class="cs-select local_search cs-placeholder category" tabindex="0">
                      <span class="cs-placeholder ddlplaceholder" title="Age">
                        Age
                      </span>
              <div class="cs-options">
                <ul>
                </ul>
              </div>
              <select class="local_search cs-placeholder category cs-select-bind" id="fourthSel" title="Age">
                <option value="0" disabled="disabled" selected="selected" hidden="hidden">
                  Age
                </option>
              </select>
            </div>
          </div>
          <div class="col-xs-12 " id="xfifthSel" style="padding-left: 0px; padding-right: 0px">
            <div class="cs-select local_search cs-placeholder category" tabindex="0">
                      <span class="cs-placeholder ddlplaceholder" title="Education">
                        Education
                      </span>
              <div class="cs-options">
                <ul>
                </ul>
              </div>
              <select class="local_search cs-placeholder category cs-select-bind" id="fifthSel" title="Education">
                <option value="0" disabled="disabled" selected="selected" hidden="hidden">
                  Education
                </option>
              </select>
            </div>
          </div>
        </div>
        <div id="divIndicatorList" class="col-xs-8" style="padding-left: 0px; padding-right: 0px;">
          <div class="cs-options ">
            <ul id="ddlIndicatorlist">
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="right col-xs-12 col-md-2 col-lg-3 container_input_search srch-spec search-specific" id="srch">
      <img src="/img/search-pipeline.png" class="pull-left search-pipeline hidden-xs hidden-sm"/>
      <div class="input-group ">
        <input type="text" class="form-control" placeholder="SEARCH FOR SPECIFIC INDICATOR" id="project" maxlength="250"/>
        <input type="hidden" id="project-id"/>
        <label id="empty-message"/>
        <span class="input-group-btn">
                  <button class="btn btn-primary glyphicon glyphicon-search" type="button">
                  </button>
                </span>
      </div>
    </div>
  </div>
</div>
  <div id="hiddentextFilter" style="visibility: hidden">
    Education
  </div>
  <div class="col-xs-12 container-content data-catalog">
    <div class="row search-publications">
      <div class="col-xs-12 container_search">
        <!-- Left -->              <div class="col-xs-12 col-md-3 col-lg-3 title-label" id="datasetheader" style="right:15px;bottom:20px">

        SPECIALIZED DATASETS

      </div>
        <!-- Right -->              <div class="col-xs-12 col-md-5 col-lg-7" id="datasetsearch" style="right:40px;bottom:20px">
        <div class="input-group" id="datasetSearch" style="padding-left:42px">
          <input type="text" id="autosearch" class="form-control dataset-search-input ui-autocomplete-input" placeholder="SEARCH ACROSS ALL IDB DATABASES AND DATASETS" autocomplete="off"/>
          <span class="input-group-btn">
                    <button class="btn btn-primary glyphicon glyphicon-search" type="button" onclick="LoadPage();">
                    </button>
                  </span>
        </div>
      </div>
      </div>
      <div class="col-xs-12 col-md-12 col-lg-12 container_results">
        <!-- Left sidebar -->              <div class="container-fluid" id="setstyle" style="display: none;">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" style="float:left;" data-toggle="collapse" data-target="#leftsidebar">
                    <span class="icon-bar">
                    </span>
            <span class="icon-bar">
                    </span>
            <span class="icon-bar">
                    </span>
          </button>
          <a class="backbtn" id="hidebackbtn" onclick="backtodatasets();" style="display:none;font-family:GothamNarrow-Medium;font-size: 14px;color: #404040;cursor:pointer;border-bottom: 1px;border-bottom-style: solid; border-bottom-color: dimgrey;float: right;padding-top:22px;">
            Back to all Datasets
          </a>
        </div>
      </div>
        <!-- Left sidebar -->              <div class="col-xs-12 col-md-2 left_column col-md-height refine collapse" id="leftsidebar" style="top: 20px; display: none;">
        <div class="row">
          <div class="row-content">
            <ul>
              <li>
                <p>
                          <span class="icon icon-icon-filter-open">
                          </span>
                  BY TOPIC
                </p>
                <ul data-searchcreiteria="true" data-facetesgroup="DataCatalogTopicName" class="Dmargin" id="sector_scroll">
                </ul>
              </li>
              <li>
                <p>
                          <span class="icon icon-icon-filter-open">
                          </span>
                  BY COUNTRY
                </p>
                <ul data-searchcreiteria="true" data-facetesgroup="GeoCoverageName" class="Dmargin" id="geography_scroll">
                </ul>
              </li>
              <li>
                <p>
                          <span class="icon icon-icon-filter-open">
                          </span>
                  API AVAILABILITY
                </p>
                <ul data-searchcreiteria="true" data-facetesgroup="APIAvailabilityText" class="Dmargin" id="apiavail_scroll">
                </ul>
              </li>
              <li>
                <p>
                          <span class="icon icon-icon-filter-open">
                          </span>
                  DOWNLOAD FORMAT
                </p>
                <ul data-searchcreiteria="true" data-facetesgroup="UploadFormatType" class="Dmargin" id="dwnldfrmt_scroll">
                </ul>
              </li>
              <li>
                <p>
                          <span class="icon icon-icon-filter-open">
                          </span>
                  TIME
                </p>
                <ul data-searchcreiteria="true" data-facetesgroup="TimePeriodCovered" class="Dmargin" id="timescroll">
                </ul>
              </li>
              <li>
                <p>
                          <span class="icon icon-icon-filter-open">
                          </span>
                  LAST UPDATED
                </p>
                <ul data-searchcreiteria="true" data-facetesgroup="LastModifiedDate" class="Dmargin" id="lastmodified_scroll">
                </ul>
              </li>
            </ul>
            <ul>
              <li class="clear-filter">
                <p onclick="ClearSearch();">
                          <span id="clearactive" class="glyphicon glyphicon-remove-sign ">
                          </span>
                  CLEAR ALL FILTERS
                </p>
              </li>
              <li>
                <p>
                  <a href="/Stata/file">
                    Stata Converter Tool
                  </a>
                </p>
              </li>
            </ul>
          </div>
        </div>
      </div>
        <!-- Right content -->              <div id="loadpartial" class="col-xs-12 col-md-7 col-lg-12 right_column col-md-height" style="padding-right: 0px; background-color: rgb(255,255,255);">
        <div class="col-md-9 pad0 " style="">
          <div class="results" id="spnresultsnofound" style="display: none;">
            No results found
          </div>
          <div class="results" id="spnresults" style="display: none;">
            Results
            <span id="spnCounts">
                    </span>
            Of
            <span id="spnCountsIn">
                    </span>
          </div>
          <ul id="searchterms">
          </ul>
        </div>
        <!-- Publications -->                <div class="container_publications clearfix" id="divdatasets">
        <div class="col-xs-12 container-content data-catalog" id="mySidenav" style="right:10px">
          <div class="col-xs-12 col-lg-12 col-md-12 container-content data-catalog">
                      <span class="buttonhide" style="font-size:30px;cursor:pointer; color:#1c84ba; float:left;" onclick="openNav()">
                        ☰
                      </span>
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()" style="font-size: 30px; float: left; display: none;">
              ×
            </a>
            <div class="col-lg-11 col-md-11 col-xs-10 container-content data-catalog" id="backbtnsec">
              <a class="backbtn" onclick="backtodatasets()" id="showbackbtn">
                Back to all Datasets
              </a>
            </div>
          </div>
          <div id="side_bar" class="clearfix col-xs-12 col-lg-12 col-md-12" style="left:10px;">
            <div class="col-xs-12 col-lg-12 col-md-12 container-content data-catalog">
              <h3 class="col-lg-12 col-md-12 col-xs-12 container-content data-catalog" id="datasettitle" href="">
                Child care quality in Ecuador: Centros Infantiles del Buen Vivir (CIBV)
              </h3>
            </div>
          </div>
        </div>
        <div class="col-xs-12 container-content data-catalog" id="subjectsdiv" style="padding-top: 8px">
          <div class="col-xs-12" id="subjectval" style="font-family:GothamNarrow-Medium;font-size: 14px;color: #404040; text-transform:uppercase;">

            Subjects  
            <span id="subjectname" class="showdesctext" onclick="javascript:subjectselval(event)" style="text-transform: uppercase;padding-left: 4px; color: #5FAFEE; font-size: 14px; font-weight:bold;font-family: GothamNarrow-Book; cursor: pointer">
                        <li id="list_Social Protection" class="subjectvalues" data-input="Social Protection" onclick="javascript:subjectselval(event);">
                          Social Protection
                        </li>
                        <li id="list_Education" class="subjectvalues" data-input="Education" onclick="javascript:subjectselval(event);">
                          Education
                        </li>
                        <li id="list_Health" class="subjectvalues" data-input="Health" onclick="javascript:subjectselval(event);">
                          Health
                        </li>
                        <li id="list_Social Investment" class="subjectvalues" data-input="Social Investment" onclick="javascript:subjectselval(event);">
                          Social Investment
                        </li>
                        <li id="list_Citizen Security" class="subjectvalues" data-input="Citizen Security" onclick="javascript:subjectselval(event);">
                          Citizen Security
                        </li>
                      </span>
          </div>
        </div>
        <div class="descriptionhide">
          <div class="col-xs-12 container-content data-catalog" id="aboutsec">
                      <span class="col-xs-6" id="landside" style="text-transform: uppercase;font-family:GothamNarrow-Medium;font-size: 14px;padding-top: 10px;">
                        ABOUT THIS DATASET
                      </span>
          </div>
          <div class="col-xs-12" id="aboutdesc">
            <p style="padding-top: 10px;font-family:GothamNarrow-Book;font-size: 15px;color: #404040;" id="datasetdesc">
              This dataset contains information on 404 Centros infantiles del Buen Vivir (CIBVs), Ecuador's primary providers of public child care services for infant and toddlers at the time of data collection in 2012. In 2012, The Inter-American Development Bank administered a battery of widely-used instruments to measure the quality of child care services in the CIBVs, including four internationally-recognized quality instruments that were then adapted for use in Ecuador.
            </p>
          </div>
        </div>
        <div class="col-xs-12 container-content data-catalog" id="tagsdiv" style="padding-top:10px">
          <div class="col-xs-12" id="tagsval" style="font-family:GothamNarrow-Medium;font-size: 14px;color: #404040;">
            TAGS    
            <span id="Tagsname" class="showtagstext" style="cursor:pointer;color: #5FAFEE; font-size: 14px; font-weight:bold;font-family: GothamNarrow-Book;text-transform:capitalize">
                        <img src="../Images/tags.png" style="width:12px;height:12px;margin-right:5px"/>
                        <li id="list_
  social protection" class="tagValues" onclick="javascript:Tagsval(event);">

  social protection
                        </li>
                        <img src="../Images/tags.png" style="width:12px;height:12px;margin-right:5px"/>
                        <li id="list_
  child care quality" class="tagValues" onclick="javascript:Tagsval(event);">

  child care quality
                        </li>
                        <img src="../Images/tags.png" style="width:12px;height:12px;margin-right:5px"/>
                        <li id="list_
  early child development" class="tagValues" onclick="javascript:Tagsval(event);">

  early child development
                        </li>
                        <img src="../Images/tags.png" style="width:12px;height:12px;margin-right:5px"/>
                        <li id="list_
  young childrend
" class="tagValues" onclick="javascript:Tagsval(event);">

  young childrend

                        </li>
                      </span>
          </div>
        </div>
        <div class="col-xs-12 col-lg-9 col-md-9 container-content data-catalog" style="padding-top: 10px;" id="databrowsersec">
          <div class="col-xs-12 col-lg-9 col-md-9 container-content data-catalog" id="tableprev" style="font-family:GothamNarrow-Medium;font-size: 14px;padding-top: 4px;left:15px">
            TABLE PREVIEW

            <img src="/Images/table_preview_mobile_64x64.png" id="tablepreviewicon" style="width: 32px;height:32px;display:none;"/>
          </div>
          <div class="col-xs-12 col-lg-9 col-md-9" id="tablecnt" style="padding-top:10px;">
                      <span id="tabletitle" style="padding-top: 15px;font-family:GothamNarrow-Book;font-size: 15px;color: #404040;">
                        A preview of main indicators and variables
                      </span>
          </div>
          <div class="col-xs-12 col-lg-12 col-md-12 container-content data-catalog" id="databrowser" style="padding-top: 10px">
            <div id="dataview" style="width: 100%; height: 300px">
            </div>
          </div>
        </div>
        <div class="col-xs-12 container-content data-catalog">
          <div class="col-xs-12" id="opendtaname" style="font-family:GothamNarrow-Medium;font-size: 14px;padding-top: 30px;">

            OPEN DATA FORMAT

          </div>
          <div class="col-xs-12" style="padding-top:10px;" id="opendesc">
                      <span id="opendesctxt" style="padding-top: 15px;font-family:GothamNarrow-Book;font-size: 15px;color: #404040;">
                        The Open Data format provide interaction within the Open Data Portal. Work with the data and create your own analysis and custom data visualizations.
                      </span>
          </div>
          <div class="col-xs-12" id="viewopenbtn" style="padding-top:10px">
            <button style="background-color: Transparent; background-repeat:no-repeat;cursor:pointer; overflow: hidden; outline:none;height:  38px;line-height:  40px;border:  1px solid #219cdc; display:  inline-block; float:  none; font-weight: bold; font-family: GothamNarrow-Medium; width: 19%; padding:  0px!important;  font-size:  14px;color:#219cdc;" id="opendta">
              VIEW IN OPEN DATA FORMAT
            </button>
          </div>
        </div>
        <div class="col-xs-12 col-lg-12 col-md-12 container-content data-catalog" id="downloadsec">
          <div class="col-xs-12 col-lg-12 col-md-12 container-content data-catalog" id="downloadoptionheader">

            DOWNLOAD DATA


            <div class="col-xs-10 col-lg-10 col-md-9 container-content data-catalog" id="downloadformats">
              <a href="https://mydata.iadb.org/resource/fmzp-pctv.CSV">
                <img src="../Images/CSV.png" id="btn_CSV" class="downloadimg" style="width:4%;cursor:pointer"/>
              </a>
              <a href="javascript:download('https://mydata.iadb.org/api/views/fmzp-pctv/rows.JSON?accessType=DOWNLOAD','fmzp-pctv.JSON');">
                <img src="../Images/JSON.png" id="btn_JSON" class="downloadimg" style="width:4%;cursor:pointer"/>
              </a>
              <a href="https://mydata.iadb.org/resource/fmzp-pctv.RDF">
                <img src="../Images/RDF.png" id="btn_RDF" class="downloadimg" style="width:4%;cursor:pointer"/>
              </a>
              <a href="javascript:download('https://mydata.iadb.org/api/views/fmzp-pctv/rows.RSS?accessType=DOWNLOAD','fmzp-pctv.RSS');">
                <img src="../Images/RSS.png" id="btn_RSS" class="downloadimg" style="width:4%;cursor:pointer"/>
              </a>
              <a href="javascript:download('https://mydata.iadb.org/api/views/fmzp-pctv/rows.XML?accessType=DOWNLOAD','fmzp-pctv.XML');">
                <img src="../Images/XML.png" id="btn_XML" class="downloadimg" style="width:4%;cursor:pointer"/>
              </a>
            </div>
          </div>
        </div>
        <div class="col-xs-12 col-lg-11 col-md-12 container-content data-catalog" id="graphicsec" style="padding-top: 35px; display: none;">
          <div class="col-xs-12 col-lg-10 col-md-12 container-content data-catalog">
            <div class="col-xs-9 col-lg-5 col-md-5" id="landside">
                        <span id="graphicheader" style="font-family:GothamNarrow-Medium;font-size: 14px;padding-top: 4px;">
                          FEATURED  VISUALIZATION
                          <a id="graphmobileview" href="https://mydata.iadb.org/w/t3ge-wn9k/gy47-sxwm" target="_blank" style="display:none;font-family:GothamNarrow-Medium;font-size: 14px;cursor:pointer">
                          </a>
                        </span>
            </div>
          </div>
          <div class="col-xs-10 col-lg-10 col-md-10 container-content data-catalog ">
                      <span id="graphtitle" class="col-xs-9 col-lg-9 col-md-9" style="font-family:GothamNarrow-Book;font-size: 14px;padding-top: 6px;">
                      </span>
          </div>
          <div class="col-xs-10 col-lg-10 col-md-10 container-content data-catalog ">
            <p id="descriptionforgraph" style="font-family:GothamNarrow-Book;font-size: 13px;padding-top: 8px;padding-left:15px">
            </p>
          </div>
          <div class="col-xs-12 col-lg-12 col-md-12 container-content data-catalog ">
            <div class="col-xs-12 col-lg-10 col-md-7 container-content data-catalog modalview" style="padding-top: 15px" id="graphicviewload">
              <div id="modalview" style="width:100%;height:438px">
                <iframe id="graphiframe" style="padding-top:10px;padding-left:15px" width="100%" height="432px" src="https://mydata.iadb.org/idb/dataset/fmzp-pctv/about" frameborder="0" scrolling="no">
                </iframe>
              </div>
            </div>
            <div class="col-xs-5 col-lg-2 col-md-5" id="enlargecollapse" style="padding-top:20%;">
              <button id="graphmodal" data-toggle="modal" data-target="#myModalforgraph" type="button" style="background-color: Transparent; background-repeat:no-repeat;cursor:pointer; overflow: hidden; outline:none;height:  38px;line-height:  40px;border:  1px solid #219cdc; display:  inline-block; float:  none; font-family: GothamNarrow-Medium;  width:  170px;  padding:  0px!important;  font-size:  14px;color:#219cdc;">
                ENLARGE
              </button>
              <button type="button" id="embedbtn" data-toggle="modal" data-target="#myModalforinsert" style="background-color: Transparent; background-repeat:no-repeat;cursor:pointer; overflow: hidden; outline:none;height:  38px;line-height:  40px;border:  1px solid #219cdc; display:  inline-block; float:  none; font-family: GothamNarrow-Medium;  width:  170px;  padding:  0px!important;  font-size:  14px;color:#219cdc;margin-top:15px">
                INSERT VISUALIZATION
              </button>
            </div>
          </div>
        </div>
        <div class="col-xs-12 container-content data-catalog" id="relatedatasec" style="padding-top: 5px">
          <div class="col-xs-12 container-content data-catalog" style="padding-top:10px;left:15px">
                      <span id="relateddata" style="text-transform: uppercase;width: 120px;font-family:GothamNarrow-Medium;font-size: 14px;">
                        Related Datasets
                      </span>
          </div>
          <div class="col-xs-12 container-content data-catalog" style="white-space:nowrap;">
            <div class="texts" id="relatedDataTitle1" style="font-family:GothamNarrow-Medium;font-size:14px;white-space: normal;padding-left:15px;text-align: -webkit-auto;padding-top: 5px;cursor: pointer;" onclick="javascript:relatedDatafilter(event)">
            </div>
            <div class="col-xs-12" id="relatedDataDesc1" style="color: #404040;font-family: GothamNarrow-Book;font-size: 14px;padding-left: 15px;white-space: normal;padding-top: 5px;">
                        <span class="show1">
                        </span>
            </div>
          </div>
          <div class="col-xs-12 container-content data-catalog" style="white-space:nowrap;">
            <div class="texts" id="relatedDataTitle2" style="font-family:GothamNarrow-Medium;font-size:14px;white-space: normal;padding-left:15px;text-align: -webkit-auto;padding-top: 5px;cursor: pointer;" onclick="javascript:relatedDatafilter(event)">
            </div>
            <div class="col-xs-12" id="relatedDataDesc2" style="color: #404040;font-family: GothamNarrow-Book;font-size: 14px;padding-left: 15px;white-space: normal;padding-top: 5px;">
                        <span class="show2">
                        </span>
            </div>
          </div>
        </div>
        <div class="col-xs-12 container-content data-catalog" id="relatedsec" style="display: none;">
          <div class="col-xs-12 container-content data-catalog" style="padding-top:10px;left:15px">
                      <span id="relatedpub" style="text-transform: uppercase;width: 120px;font-family:GothamNarrow-Medium;font-size: 14px;">
                        Related Publications
                      </span>
          </div>
          <div class="col-xs-12 container-content data-catalog" style="white-space:nowrap;">
            <div class="texts" id="relatedPubTitle" style="font-family:GothamNarrow-Medium;font-size:14px;white-space: normal;padding-left:15px;text-align: -webkit-auto;padding-top: 5px;">
            </div>
            <div class="texts" id="briefdescription" style="color: #404040;font-family: GothamNarrow-Book;font-size: 14px;padding-left: 15px;white-space: normal;padding-top: 5px;">
                        <span class="show">
                          This dataset contains information on 404 Centros infantiles del Buen Vivir (CIBVs), Ecuador's primary providers of public child care services for infant and toddlers at the time of data collection in
                          <span class="dots">
                            ...
                          </span>
                          <span class="morectnt">
                            <span>
                              2012. In 2012, The Inter-American Development Bank administered a battery of widely-used instruments to measure the quality of child care services in the CIBVs, including four internationally-recognized quality instruments that were then adapted for use in Ecuador.
                            </span>
                              
                            <a href="" class="showmoretxtpub" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">
                              <img src="../Images/seemore.png"/>
                               &amp;nbspSEE MORE
                            </a>
                          </span>
                        </span>
            </div>
            <div class="col-xs-12" id="publicationurl" style="color: #404040;font-family: GothamNarrow-Book;font-size: 14px;padding-left: 15px;white-space: normal;padding-top: 5px;padding-bottom:50px">
            </div>
          </div>
        </div>
      </div>
        <!-- End Publications -->                <!-- Pagination -->                <div class="publication_pagination">
        <nav>
          <ul class="pagination" id="datasetpagination">
          </ul>
        </nav>
      </div>
      </div>
        <!-- End Right content -->              <div class="container-fluid" style="display: none;">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" style="float:left;" data-toggle="collapse" data-target="#txtalignleft">
                    <span class="icon-bar">
                    </span>
            <span class="icon-bar">
                    </span>
            <span class="icon-bar">
                    </span>
          </button>
        </div>
      </div>
        <div class="col-xs-12 col-md-1 col-lg-0 left_column col-md-height align" id="txtalignleft" style="padding-top: 20px; background: #F1F5F8;">
          <div class="col-xs-12 container-content data-catalog" id="leftsidefulldiv">
            <div class="col-xs-12 container-content data-catalog" style="padding-top:10px;">
              <div class="divsocial col-xs-6 col-lg-9 col-md-9">
                <img src="/Images/titulo_share.png" class="shareimg" style="width: 190px;height:35px"/>
                <a id="twitterfix" href="" target="_blank">
                </a>
              </div>
            </div>
            <div class="col-xs-9 col-lg-12 col-md-12" id="socialicon">
              <a href="" class="socialshare facebook">
                <img src="/Images/btn_facebook.png" style="padding-top:10px;padding-left:15px;cursor:pointer;"/>
              </a>
              <a href="" class="socialshare twitter" data-network="twitter">
                <img src="/Images/btn_twiter.png" style="padding-top:10px;padding-left:2px;cursor:pointer;"/>
              </a>
              <a href="" class="socialshare linkedin" data-network="linkedin">
                <img src="/Images/btn_linkedin.png" style="padding-top:10px;padding-left:2px;cursor:pointer;"/>
              </a>
              <span class="email" id="spanEmail">
                      <img src="/Images/btn_email.png" style="padding-top: 10px; padding-left: 2px; cursor: pointer;"/>
                    </span>
            </div>
            <div class="col-xs-10 container-content data-catalog" id="quickfactsec" style="padding-left: 19px; padding-top: 20px;text-align:center;font-family:GothamNarrow-Medium;font-size:14px;">
                    <span>
                      QUICK FACTS
                    </span>
              <hr class="quickimg"/>
            </div>
            <div class="datacatalogtypehide">
              <div class="col-xs-6 col-lg-12  container-content data-catalog" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                      <span>
                        Type:
                      </span>
              </div>
              <div class="col-xs-7" id="datacatalogtype" style="text-transform:capitalize;padding-left: 12px; padding-top: 2px;font-family:GothamNarrow-Book;font-size:13px">
                Cross sectional
              </div>
            </div>
            <div class="lastupdatehide">
              <div class="col-xs-6 col-lg-12 container-content data-catalog" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                      <span>
                        Last Update:
                      </span>
              </div>
              <div class="col-xs-7" id="lastupdate" style="text-transform:capitalize;padding-left: 12px; padding-top: 2px;font-family:GothamNarrow-Book;font-size:13px">
                Jan 15, 2019
              </div>
            </div>
            <div class="createdatehide">
              <div class="col-xs-7 container-content data-catalog" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                      <span>
                        Date Created:
                      </span>
              </div>
              <div class="col-xs-7 container-content data-catalog" id="createdate" style="text-transform:capitalize;padding-left: 12px; padding-top: 2px;font-family:GothamNarrow-Book;font-size:13px">
                Jan 15, 2019
              </div>
            </div>
            <div class="col-xs-9 container-content data-catalog" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                    <span>
                      Time coverage period:
                    </span>
            </div>
            <div class="col-xs-7 container-content data-catalog" style="padding-left: 12px; padding-top: 2px">
                    <span style="color: #5FAFEE;cursor:pointer;font-weight:bold;font-family:GothamNarrow-Book;font-size:13px" id="timeperiod" onclick="javascript:timeperiodfilter(event)">
                      2012-2012
                    </span>
            </div>
            <div class="languageshide">
              <div class="col-xs-9 container-content data-catalog" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                      <span>
                        Language:
                      </span>
              </div>
              <div class="col-xs-4 container-content data-catalog" style="padding-left: 12px; padding-top: 5px">
                      <span id="languages" style="color: #5FAFEE;cursor:pointer;font-family:GothamNarrow-Book;font-size:13px;text-transform:uppercase">
                        <li id="list_EN" class="langVal" onclick="javascript:languagechange(event);">
                          <a class="urlchange">
                            EN
                          </a>
                        </li>
                      </span>
              </div>
            </div>
            <div class="col-xs-9 container-content data-catalog" id="countrycounthide">
              <div class="col-xs-9 container-content data-catalog" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                      <span>
                        Countries:
                        <span id="countriescount" style="font-family:GothamNarrow-Book;font-size: 13px;color: #404040;padding-left:5px">
                          1
                        </span>
                      </span>
              </div>
              <div class="col-xs-9 container-content data-catalog" style="padding-left: 12px; padding-top: 5px;">
                      <span id="countrycode" class="break" style="color: #5FAFEE; white-space: normal;font-family:GothamNarrow-Book;font-size:13px;cursor:pointer;font-weight:bold">
                        <li id="list_EC" class="countryval" onclick="javascript:coverage(event);" onmouseover="javascript:show(id)">
                          EC
                        </li>
                      </span>
              </div>
            </div>
            <div class="variableshide">
              <div class="col-xs-9 container-content data-catalog" style="padding-left: 12px; padding-top: 10px; font-size: 13px; font-family: GothamNarrow-Medium;">
                      <span>
                        Number of variables:
                      </span>
              </div>
              <div class="col-xs-6 container-content data-catalog" style="padding-left: 12px; padding-top: 2px">
                      <span id="numberofvariables" style="font-family: GothamNarrow-Book; font-size: 13px">
                        159
                      </span>
              </div>
            </div>
            <div class="methodologyhide">
              <div class="col-xs-9 container-content data-catalog " style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                      <span>
                        Methodology:
                      </span>
              </div>
              <div class="col-xs-9 container-content data-catalog" style="padding-left: 12px; padding-top: 2px">
                      <span class="show6" id="methodology" style="font-family:GothamNarrow-Book;font-size:13px;word-break:break-all">
                        Available at https://idbg.sharepoint.com/teams/ez-VPS/Pub/IDBPub/Corporate%20Publications%20Public%20Access/child-care-quality-in-ecuador.pdf
                      </span>
              </div>
            </div>
            <div class="downloadhide">
              <div class="col-xs-9 container-content data-catalog" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                      <span>
                        Downloads:
                      </span>
              </div>
              <div class="col-xs-6 container-content data-catalog" style="padding-left: 12px; padding-top: 2px">
                      <span id="downloadcount" style="font-family:GothamNarrow-Book;font-size:13px">
                        8
                      </span>
              </div>
            </div>
            <div class="viewcounthide">
              <div class="col-xs-9 container-content data-catalog" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                      <span>
                        Views:
                      </span>
              </div>
              <div class="col-xs-6 container-content data-catalog" style="padding-left: 12px; padding-top: 2px">
                      <span id="viewcount" style="font-family:GothamNarrow-Book;font-size:13px">
                        46
                      </span>
              </div>
            </div>
            <div class="col-xs-9 container-content data-catalog" id="hideshowcitation" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                    <span>
                      Dataset Citation:
                    </span>
            </div>
            <div class="col-xs-9 container-content data-catalog" style="font-family:GothamNarrow-Book;font-size:13px;padding-left: 12px; padding-top: 2px">
                    <span class="show" id="datasetcit">
                      Inter-American Development Bank 2018. Child care quality in Ecuador: Centros Infantiles del Buen Vivir (CIBV) Washington, DC: Inter- American Development Bank. Distributed by Washington, DC: Inter-American Development Bank Numbers for Development
                      <a class="word-break" id="citationurl" href="https://data.iadb.org/DataCatalog/Dataset#DataCatalogID=fmzp-pctv" target="_blank">
                        https://data.iadb.org/DataCatalog/Dataset#DataCatalogID=fmzp-pctv
                      </a>
                    </span>
            </div>
            <div class="col-xs-9 container-content data-catalog" id="hideshowperma" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                    <span>
                      Permalink:
                    </span>
            </div>
            <div class="col-xs-9 container-content data-catalog" style="font-family:GothamNarrow-Book;font-size:13px;padding-left: 12px; padding-top: 2px">
              <a class="word-break" id="permalink" style="font-family: GothamNarrow-Book; font-size: 13px; font-weight:bold;padding-left: 0px;color:#5FAFEE" href="https://data.iadb.org/DataCatalog/Dataset#DataCatalogID=fmzp-pctv" target="_blank">
                https://data.iadb.org/DataCatalog/Dataset#DataCatalogID=fmzp-pctv
              </a>
            </div>
            <div class="col-xs-9 container-content data-catalog" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                    <span>
                      Short URL:
                    </span>
            </div>
            <div class="col-xs-9 container-content data-catalog" style="color: #5FAFEE; font-family: GothamNarrow-Book; font-size: 13px; padding-left: 12px">
              <a id="shorturl" style="font-family: GothamNarrow-Book; font-size: 13px; font-weight:bold;padding-left: 0px;color:#5FAFEE; word-break:break-word;" href="" target="_blank">
              </a>
            </div>
            <div class="col-xs-9 container-content data-catalog" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                    <span>
                      Licensing and Attribution:
                    </span>
            </div>
            <div class="col-xs-9 container-content data-catalog licencetext" style="padding-left: 12px; padding-top: 10px">
                    <span>
                      <a id="licenceImg" href="https://creativecommons.org/licenses/by-nc-nd/3.0/igo/legalcode" target="_blank">
                        <img src="/Images/by-nc-nd.png" style="width:110px;cursor:pointer"/>
                      </a>
                    </span>
            </div>
            <div class="unitreshide">
              <div class="col-xs-9 col-lg-12 container-content data-catalog" style="padding-left: 12px; padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                      <span>
                        IDB Unit Responsible:
                      </span>
              </div>
              <div class="col-xs-9 container-content data-catalog" style="padding-left: 12px; padding-top: 2px">
                      <span style="font-family:GothamNarrow-Book;font-size:13px" id="unitres">
                        Protección social y salud
                      </span>
              </div>
            </div>
            <div class="col-xs-9 col-lg-12 container-content data-catalog contactmail" style="padding-left: 12px; padding-top: 10px">
                    <span id="mailicon" style="padding-top: 10px;font-size:13px;font-family:GothamNarrow-Medium;">
                      <a id="mailtolink" href="#" target="_top">
                        <img src="/Images/envelope.png" id="contact" style="cursor: pointer;"/>
                      </a>

                                Contact information
                    </span>
            </div>
            <div class="col-xs-9 container-content data-catalog contactinformation" style="padding-left: 12px; padding-top: 2px;padding-bottom: 15px;">
                    <span style="font-family:GothamNarrow-Book;font-size:13px">
                      Contact directly the contributors to send enquires about this Dataset
                    </span>
            </div>
          </div>
        </div>
        <div class="container_publications clearfix" id="partialviewload" style="display:none;">
          <div class="col-xs-12 container-content data-catalog" id="mySidenav" style="right:10px">
            <div class="col-xs-12 col-lg-12 col-md-12 container-content data-catalog">
                    <span class="buttonhide" style="font-size:30px;cursor:pointer; color:#1c84ba; float:left;" onclick="openNav()">
                      ☰
                    </span>
              <a href="javascript:void(0)" class="closebtn" onclick="closeNav()" style="font-size: 30px; float: left; display: none;">
                ×
              </a>
              <div class="col-lg-11 col-md-11 col-xs-10 container-content data-catalog" id="backbtnsec">
                <a class="backbtn" onclick="backtodatasets()" id="showbackbtn">
                  Back to all Datasets
                </a>
              </div>
            </div>
            <div id="side_bar" class="clearfix col-xs-12 col-lg-12 col-md-12" style="left:10px;">
              <div class="col-xs-12 col-lg-12 col-md-12 container-content data-catalog">
                <h3 class="col-lg-12 col-md-12 col-xs-12 container-content data-catalog" id="datasettitle"/>
              </div>
            </div>
          </div>
          <div class="col-xs-12 container-content data-catalog" id="subjectsdiv" style="padding-top: 8px">
            <div class="col-xs-12" id="subjectval" style="font-family:GothamNarrow-Medium;font-size: 14px;color: #404040; text-transform:uppercase;">

              Subjects  
              <span id="subjectname" class="showdesctext" onclick="javascript:subjectselval(event)" style="text-transform: uppercase;padding-left: 4px; color: #5FAFEE; font-size: 14px; font-weight:bold;font-family: GothamNarrow-Book; cursor: pointer">
                    </span>
            </div>
          </div>
          <div class="descriptionhide">
            <div class="col-xs-12 container-content data-catalog" id="aboutsec">
                    <span class="col-xs-6" id="landside" style="text-transform: uppercase;font-family:GothamNarrow-Medium;font-size: 14px;padding-top: 10px;">
                      ABOUT THIS DATASET
                    </span>
            </div>
            <div class="col-xs-12" id="aboutdesc">
              <p style="padding-top: 10px;font-family:GothamNarrow-Book;font-size: 15px;color: #404040;" id="datasetdesc">
              </p>
            </div>
          </div>
          <div class="col-xs-12 container-content data-catalog" id="tagsdiv" style="padding-top:10px">
            <div class="col-xs-12" id="tagsval" style="font-family:GothamNarrow-Medium;font-size: 14px;color: #404040;">
              TAGS    
              <span id="Tagsname" class="showtagstext" style="cursor:pointer;color: #5FAFEE; font-size: 14px; font-weight:bold;font-family: GothamNarrow-Book;text-transform:capitalize">
                    </span>
            </div>
          </div>
          <div class="col-xs-12 col-lg-9 col-md-9 container-content data-catalog" style="padding-top: 10px;" id="databrowsersec">
            <div class="col-xs-12 col-lg-9 col-md-9 container-content data-catalog" id="tableprev" style="font-family:GothamNarrow-Medium;font-size: 14px;padding-top: 4px;left:15px">
              TABLE PREVIEW

              <img src="/Images/table_preview_mobile_64x64.png" id="tablepreviewicon" style="width: 32px;height:32px;display:none;"/>
            </div>
            <div class="col-xs-12 col-lg-9 col-md-9" id="tablecnt" style="padding-top:10px;">
                    <span id="tabletitle" style="padding-top: 15px;font-family:GothamNarrow-Book;font-size: 15px;color: #404040;">
                      A preview of main indicators and variables
                    </span>
            </div>
            <div class="col-xs-12 col-lg-12 col-md-12 container-content data-catalog" id="databrowser" style="padding-top: 10px">
              <div id="dataview" style="width: 100%; height: 300px">
              </div>
            </div>
          </div>
          <div class="col-xs-12 container-content data-catalog">
            <div class="col-xs-12" id="opendtaname" style="font-family:GothamNarrow-Medium;font-size: 14px;padding-top: 30px;">

              OPEN DATA FORMAT

            </div>
            <div class="col-xs-12" style="padding-top:10px;" id="opendesc">
                    <span id="opendesctxt" style="padding-top: 15px;font-family:GothamNarrow-Book;font-size: 15px;color: #404040;">
                      The Open Data format provide interaction within the Open Data Portal. Work with the data and create your own analysis and custom data visualizations.
                    </span>
            </div>
            <div class="col-xs-12" id="viewopenbtn" style="padding-top:10px">
              <button style="background-color: Transparent; background-repeat:no-repeat;cursor:pointer; overflow: hidden; outline:none;height:  38px;line-height:  40px;border:  1px solid #219cdc; display:  inline-block; float:  none; font-weight: bold; font-family: GothamNarrow-Medium; width: 19%; padding:  0px!important;  font-size:  14px;color:#219cdc;" id="opendta">
                VIEW IN OPEN DATA FORMAT
              </button>
            </div>
          </div>
          <div class="col-xs-12 col-lg-12 col-md-12 container-content data-catalog" id="downloadsec">
            <div class="col-xs-12 col-lg-12 col-md-12 container-content data-catalog" id="downloadoptionheader">

              DOWNLOAD DATA


              <div class="col-xs-10 col-lg-10 col-md-9 container-content data-catalog" id="downloadformats">
              </div>
            </div>
          </div>
          <div class="col-xs-12 col-lg-11 col-md-12 container-content data-catalog" id="graphicsec" style="padding-top: 35px">
            <div class="col-xs-12 col-lg-10 col-md-12 container-content data-catalog">
              <div class="col-xs-9 col-lg-5 col-md-5" id="landside">
                      <span id="graphicheader" style="font-family:GothamNarrow-Medium;font-size: 14px;padding-top: 4px;">
                        FEATURED  VISUALIZATION
                        <a id="graphmobileview" href="https://mydata.iadb.org/w/t3ge-wn9k/gy47-sxwm" target="_blank" style="display:none;font-family:GothamNarrow-Medium;font-size: 14px;cursor:pointer">
                        </a>
                      </span>
              </div>
            </div>
            <div class="col-xs-10 col-lg-10 col-md-10 container-content data-catalog ">
                    <span id="graphtitle" class="col-xs-9 col-lg-9 col-md-9" style="font-family:GothamNarrow-Book;font-size: 14px;padding-top: 6px;">
                    </span>
            </div>
            <div class="col-xs-10 col-lg-10 col-md-10 container-content data-catalog ">
              <p id="descriptionforgraph" style="font-family:GothamNarrow-Book;font-size: 13px;padding-top: 8px;padding-left:15px">
              </p>
            </div>
            <div class="col-xs-12 col-lg-12 col-md-12 container-content data-catalog ">
              <div class="col-xs-12 col-lg-10 col-md-7 container-content data-catalog modalview" style="padding-top: 15px" id="graphicviewload">
              </div>
              <div class="col-xs-5 col-lg-2 col-md-5" id="enlargecollapse" style="padding-top:20%;">
                <button id="graphmodal" data-toggle="modal" data-target="#myModalforgraph" type="button" style="background-color: Transparent; background-repeat:no-repeat;cursor:pointer; overflow: hidden; outline:none;height:  38px;line-height:  40px;border:  1px solid #219cdc; display:  inline-block; float:  none; font-family: GothamNarrow-Medium;  width:  170px;  padding:  0px!important;  font-size:  14px;color:#219cdc;">
                  ENLARGE
                </button>
                <button type="button" id="embedbtn" data-toggle="modal" data-target="#myModalforinsert" style="background-color: Transparent; background-repeat:no-repeat;cursor:pointer; overflow: hidden; outline:none;height:  38px;line-height:  40px;border:  1px solid #219cdc; display:  inline-block; float:  none; font-family: GothamNarrow-Medium;  width:  170px;  padding:  0px!important;  font-size:  14px;color:#219cdc;margin-top:15px">
                  INSERT VISUALIZATION
                </button>
              </div>
            </div>
          </div>
          <div class="col-xs-12 container-content data-catalog" id="relatedatasec" style="padding-top: 5px">
            <div class="col-xs-12 container-content data-catalog" style="padding-top:10px;left:15px">
                    <span id="relateddata" style="text-transform: uppercase;width: 120px;font-family:GothamNarrow-Medium;font-size: 14px;">
                      Related Datasets
                    </span>
            </div>
            <div class="col-xs-12 container-content data-catalog" style="white-space:nowrap;">
              <div class="texts" id="relatedDataTitle1" style="font-family:GothamNarrow-Medium;font-size:14px;white-space: normal;padding-left:15px;text-align: -webkit-auto;padding-top: 5px;cursor: pointer;" onclick="javascript:relatedDatafilter(event)">
              </div>
              <div class="col-xs-12" id="relatedDataDesc1" style="color: #404040;font-family: GothamNarrow-Book;font-size: 14px;padding-left: 15px;white-space: normal;padding-top: 5px;">
                      <span class="show1">
                      </span>
              </div>
            </div>
            <div class="col-xs-12 container-content data-catalog" style="white-space:nowrap;">
              <div class="texts" id="relatedDataTitle2" style="font-family:GothamNarrow-Medium;font-size:14px;white-space: normal;padding-left:15px;text-align: -webkit-auto;padding-top: 5px;cursor: pointer;" onclick="javascript:relatedDatafilter(event)">
              </div>
              <div class="col-xs-12" id="relatedDataDesc2" style="color: #404040;font-family: GothamNarrow-Book;font-size: 14px;padding-left: 15px;white-space: normal;padding-top: 5px;">
                      <span class="show2">
                      </span>
              </div>
            </div>
          </div>
          <div class="col-xs-12 container-content data-catalog" id="relatedsec">
            <div class="col-xs-12 container-content data-catalog" style="padding-top:10px;left:15px">
                    <span id="relatedpub" style="text-transform: uppercase;width: 120px;font-family:GothamNarrow-Medium;font-size: 14px;">
                      Related Publications
                    </span>
            </div>
            <div class="col-xs-12 container-content data-catalog" style="white-space:nowrap;">
              <div class="texts" id="relatedPubTitle" style="font-family:GothamNarrow-Medium;font-size:14px;white-space: normal;padding-left:15px;text-align: -webkit-auto;padding-top: 5px;">
              </div>
              <div class="texts" id="briefdescription" style="color: #404040;font-family: GothamNarrow-Book;font-size: 14px;padding-left: 15px;white-space: normal;padding-top: 5px;">
                      <span class="show">
                        This dataset contains information on 404 Centros infantiles del Buen Vivir (CIBVs), Ecuador's primary providers of public child care services for infant and toddlers at the time of data collection in
                        <span class="dots">
                          ...
                        </span>
                        <span class="morectnt">
                          <span>
                            2012. In 2012, The Inter-American Development Bank administered a battery of widely-used instruments to measure the quality of child care services in the CIBVs, including four internationally-recognized quality instruments that were then adapted for use in Ecuador.
                          </span>
                            
                          <a href="" class="showmoretxtpub" style="font-size:12px;color:black;text-transform:uppercase;white-space:nowrap;">
                            <img src="../Images/seemore.png"/>
                             &amp;nbspSEE MORE
                          </a>
                        </span>
                      </span>
              </div>
              <div class="col-xs-12" id="publicationurl" style="color: #404040;font-family: GothamNarrow-Book;font-size: 14px;padding-left: 15px;white-space: normal;padding-top: 5px;padding-bottom:50px">
              </div>
            </div>
          </div>
        </div>
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                </button>
                <h4 class="modal-title" id="myModalLabel">
                  Email
                </h4>
              </div>
              <div class="modal-body">
                      <span class="margbottom_span" style="display: none">
                        <label style="display: none">
                          From
                        </label>
                        <span style="display:none">
                          donotreply@iadb.org
                        </span>
                      </span>
                <span class="margbottom_span">
                        <label>
                          To
                        </label>
                        <textarea class="textarea_height" cols="20" id="To" name="To" rows="3"></textarea>                        <label id="lblmailerrmsg" class="field-validation-error"/>
                        <br/>

                                                        Note:

                        <br/>

                                                        1.Recipients should be separated using commas(,).
                        <br/>

                                                        2.Maximum of 5 Recipients.

                      </span>
                <span class="margbottom_span">
                        <label style="display: none">
                          Subject
                        </label>
                        <input id="Subject" name="Subject" readonly="readonly" style="display: none" type="text" value=""/>
                      </span>
                <span style="display: none">
                        <textarea cols="20" id="Body" name="Body" readonly="readonly" rows="5" style="display: none">The DataLAC country data that you requested is available in the following link: &lt;Link auto inserted here&gt;</textarea>                      </span>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="btnsend">
                  Send
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">
                  Cancel
                </button>
              </div>
              <!-- modal footer ends-->                  </div>
            <!--modal-content -->                </div>
          <!--modal -->              </div>
      </div>
      <div class="bs-example">
        <!-- Button HTML (to Trigger Modal) -->              <!-- Modal HTML -->              <div id="myModalfortable" class="modal fade" style="top:65px;">
        <div class="modal-dialog" style="width:100%">
          <div class="modal-content" style="height:490px;width:1060px">
            <div class="modal-header" style="width:1058px">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
              </button>
              <h4 class="modal-title">
                Data Browser
              </h4>
            </div>
            <div class="modal-body" style="width:1058px">
            </div>
          </div>
        </div>
      </div>
      </div>
      <div class="bs-example">
        <!-- Button HTML (to Trigger Modal) -->              <!-- Modal HTML -->              <div id="myModalforgraph" class="modal fade" style="top:65px;">
        <div class="modal-dialog" style="width:100%">
          <div class="modal-content" style="height:490px;width:1060px">
            <div class="modal-header" style="width:1058px">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
              </button>
              <h4 class="modal-title">
                Graphic View
              </h4>
            </div>
            <div class="modal-body" id="modalload" style="width:1058px">
              <iframe id="modalgraph" style="padding-top:10px;width:1000px;height:420px" src="https://mydata.iadb.org/idb/dataset/fmzp-pctv/about" frameborder="0" scrolling="no">
              </iframe>
            </div>
          </div>
        </div>
      </div>
      </div>
      <div class="bs-example">
        <!-- Button HTML (to Trigger Modal) -->              <!-- Modal HTML -->              <div id="myModalforinsert" class="modal fade" style="top:65px;">
        <div class="modal-dialog" style="width:100%">
          <div class="modal-content" style="height:300px;width:850px">
            <div class="modal-header" style="width:849px">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
              </button>
              <h4 class="modal-title">
                Embed
              </h4>
            </div>
            <div class="modal-body">
              <p>
                Embed this dataset
              </p>
              <textarea name="text" id="alltext" cols="65" rows="2">&lt;div&gt;&lt;iframe width=&quot;400px&quot; height=&quot;425px&quot; src=&quot;https://mydata.iadb.org/idb/dataset/fmzp-pctv/about&quot;frameborder=&quot;0&quot;scrolling=&quot;no&quot;&gt;&lt;/iframe&gt; + &lt;a href=&quot;https://mydata.iadb.org/idb/dataset/fmzp-pctv/about&quot; target=&quot;_blank&quot;&gt;for more info&lt;/a&gt;&lt;/div&gt;</textarea>                      <div class="clearfix">
              <div class="left">
                <div class="formHeader">
                  Size
                </div>
                <ul class="sectionContent sizes clearfix" style="list-style: none;display:table-row">
                  <li id="default" style="padding-right:5px;display:table-cell" data-width="400" data-height="425" class="">
                    <p>
                      400x425
                    </p>
                    <div class="sizePreview default">
                    </div>
                  </li>
                  <li id="smallsize" style="display:table-cell" data-width="500" data-height="425" class="">
                    <p>
                      500x425
                    </p>
                    <div class="sizePreview small">
                    </div>
                  </li>
                  <li style="display:table-cell" data-width="760" data-height="646" class="">
                    <p style=" padding-left:10px;">
                      760x646
                    </p>
                    <div class="sizePreview medium">
                    </div>
                  </li>
                  <li style="display:table-cell" data-width="950" data-height="808" class="">
                    <p style="padding-left:10px;">
                      950x808
                    </p>
                    <div class="sizePreview large">
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            </div>
          </div>
        </div>
      </div>
      </div>
      <div id="myNav" class="overlay">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()" style="display: none;">
          ×
        </a>
        <div class="overlay-content" style="left:160px">
          <div id="loadtable" style="width: 1058px; height: 420px;padding-right:55px">
            <iframe type="text/html" seamless="seamless" src="https://imfmobileservice.cognizant.com/IADBOpenDataNewUXCloud/Datasets/JsonCreation/cd6z-sjjc.html" style="width: 100%; height: 400px">
            </iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  <!-- End Body Container -->      <!-- Data Catalogue page Middle ends here -->      <!--middle page ends here -->      <div class="modal fade" id="Confirm_Box" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="dialogbox">
      <div class="header_dialog">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
          ×
        </button>
        <div class="modeltitle" id="Confirm_title">
           
        </div>
      </div>
      <div class="middle_dialog">
        <div class="Confirm_Msg">
                <span class="delete_icon pull-left">
                </span>
          <span id="spanConfirm" class="pull-left">
                   Are you sure you want to delete this item?
                </span>
        </div>
      </div>
      <div class="clearfix">
      </div>
      <div class="Confirm_Msg">

        Click YES to continue
        <br/>

        Click NO to cancel
        <br/>
      </div>
      <div class="footer_dialog">
        <button type="button" class="btn btn-primary" id="btnConfirmOK">
          Yes
        </button>
        <button type="button" class="btn btn-primary" id="btnConfirmCancel">
          No
        </button>
      </div>
    </div>
  </div>
</div>
  <div class="modal fade" id="Msg_Box" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="dialogbox">
        <div class="header_dialog">
          <div class="modeltitle" id="Msg_title">
             
          </div>
        </div>
        <div class="middle_dialog">
          <div class="row Confirm_Msg">
                <span class="col-md-2 pad0  success_icon ">
                </span>
            <span id="spanMsg" class="col-md-10 pad0 ">
                </span>
          </div>
        </div>
        <div class="clearfix">
        </div>
        <div class="footer_dialog">
          <button type="button" class="btn btn-primary" id="btnMsgOK">
            OK
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="Inf_Box" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="dialogbox">
        <div class="header_dialog">
          <div class="modeltitle" id="Inf_title">
             
          </div>
        </div>
        <div class="middle_dialog">
          <div class="row pad0 Confirm_Msg">
                <span class="col-md-2 pad0 delete_icon">
                </span>
            <span id="spanInf" class="col-md-10 pad0 ">
                </span>
          </div>
        </div>
        <div class="clearfix">
        </div>
        <div class="footer_dialog">
          <button type="button" class="btn btn-primary" id="btnInfoMSGok">
            OK
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="clearboth">
  </div>
  <!--

<script>
    $('<input>').attr({
        type: 'hidden',
        id: 'findit-placeholder',
        name: 'findit-placeholder'
    }).appendTo('body');


    function showFindIt() {
        $(".fi-body").addClass('hide');
        var sectionvalue = $("#findit-placeholder").val();
        if ($("#fi-" + sectionvalue).length) {
            $("#fi-" + sectionvalue).removeClass('hide');
        }
        else {
            $("#fi-banner").removeClass('hide');
        }
        if (sectionvalue != 'disclaimer')
            $('#helpModal').modal('show');
    }

</script>
<!-- PRE FOOTER -->      <div class="pre_footer" id="disclaimer">
  <img src="/img/bid-logo-2.png?b" class="logo"/>
  <div class="links">
    <a href="/NumbersForDevelopment/NumbersForDevelopment" id="numberdevelopmentlink">
      ABOUT NUMBERS FOR DEVELOPMENT
    </a>
    <a href="/DataCatalog/Dataset" id="datasetlink" class="active">
      SPECIALIZED DATASETS
    </a>
    <a href="javascript:void(0);" id="disclaimer-link">
      DISCLAIMER
    </a>
  </div>
</div>
  <div class="description_footer hide" id="disclaimer-content">
    <p>
      The Numbers for Development initiative (“N4D”) is conducted by the Inter-American Development Bank (“IDB”). The use of this N4D web page (the “Web Page”) is also governed by the Terms and Conditions set forth below and for the IDB Web Site.The IDB makes no warranties (i) with respect to the accuracy, validity, completeness or timeliness of any of the data provided under the Web Page and (ii) that any data is free of any errors and/or omissions.Further, by using this Web Page, you hereby (i) release the IDB from any claims related to or arising out of the use of the data displayed in the Web Page; (ii) understand the IDB shall not be liable for your use of the data contained on this Web Page; and (iii) acknowledge that you shall not claim or imply that the IDB endorses your use of the data.The data displayed in each of the indicators in the Web Page is fed from either (i) three separate IDB databases, as follows:

      <span class="txt_blue">
            <a href="https://www.intradebid.org/site/?language=en " target="_blank">
              INTrade
            </a>
          </span>
      ,

      <span class="txt_blue">
            <a href="http://www.iadb.org/en/research-and-data/latin-macro-watch/latin-macro-watch-country-profiles,18579.html" target="_blank">
              Latin Macro Watch
            </a>
          </span>

      and

      <span class="txt_blue">
            <a href="http://www.iadb.org/en/research-and-data//sociometro-bid,6981.html" target="_blank">
              Sociómetro
            </a>
            ;
          </span>

      or (ii) third parties.When using in your work the data displayed in the Web Page’s indicators, you shall cite the original source, which can be found upon clicking the “Metadata” button located to the right of each indicator. For the purposes of attribution and citations, in case of any contradiction or inconsistency between these Disclaimers and the Terms and Conditions provided in the IDB Web Site, these Disclaimers will govern.

    </p>
  </div>
  <!-- Start __ Header And Footer IADB-->      <script data-main="//live-idb-config.pantheonsite.io/modules/custom/api_menu_items/V.0.0.2/js/main" src="//live-idb-config.pantheonsite.io/modules/custom/api_menu_items/V.0.0.2/js/require.js">
  //<![CDATA[


  //]]>
</script>
  <input type="hidden" id="language_IADB" name="language_IADB" value="en"/>
  <input type="hidden" id="en_path_IADB" name="en_path_IADB" value="/Base/SetLanguage?language=en"/>
  <input type="hidden" id="es_path_IADB" name="es_path_IADB" value="/Base/SetLanguage?language=es"/>
  <input type="hidden" id="pt_path_IADB" name="pt_path_IADB" value="no-link"/>
  <input type="hidden" id="fr_path_IADB" name="fr_path_IADB" value="no-link"/>
  <!-- End __ Header And Footer IADB-->    </div>
<ul class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content" id="ui-id-1" tabindex="0" style="display: none;">
</ul>
<span role="status" aria-live="assertive" aria-relevant="additions" class="ui-helper-hidden-accessible">
    </span>
</body>
</html>
